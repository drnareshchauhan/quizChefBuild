(this["webpackJsonpscholastic-quiz"]=this["webpackJsonpscholastic-quiz"]||[]).push([[0],{122:function(e,t,a){},125:function(e,t,a){},136:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},190:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){},229:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},264:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){},269:function(e,t,a){},270:function(e,t,a){},277:function(e,t){},279:function(e,t){},302:function(e,t,a){},394:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),o=(a(227),a(2)),s=(a(228),a(433)),i=a(395),u=a(42),m=a(396),p=a(483),d=a(438),b=a(12),h=a(15),f=(a(229),r.a.createContext());var E=function(){var e=Object(n.useContext)(f),t=e.isLoggedIn,a=e.setLoggedIn,c=e.name,l=Object(n.useState)(!1),E=Object(o.a)(l,2),g=E[0],v=E[1],O=Object(n.useState)(null),j=Object(o.a)(O,2),N=j[0],y=j[1],S=Object(n.useState)(!1),x=Object(o.a)(S,2),k=x[0],z=x[1],q=Object(n.useState)(!1),w=Object(o.a)(q,2),C=w[0],T=w[1],I=Object(n.useState)(!1),P=Object(o.a)(I,2),A=P[0],D=P[1],Q=function(){T(!1),D(!1)};return Object(n.useEffect)((function(){"true"===localStorage.getItem("userLoggedIn")?(v(!0),y(localStorage.getItem("name").split(" ")[0])):(v(t),null!==c&&y(c.split(" ")[0]))})),r.a.createElement("div",{className:"root"},k?r.a.createElement(b.a,{to:"/"}):null,r.a.createElement(s.a,{position:"static",className:"navbar",elevation:4},r.a.createElement(i.a,null,r.a.createElement(h.b,{to:"/",className:"nav-link"},r.a.createElement("img",{src:"../CC LOGO-01.svg",className:"nav-logo"})),r.a.createElement(u.a,{varirant:"h6",className:"nav-head"},"The MCQs Platform"),r.a.createElement("div",{className:"btn-bar"},!1===g?r.a.createElement(m.a,{color:"inherit",className:"login",onClick:function(){return D(!0)}},"Login"):r.a.createElement(u.a,{variant:"h6",className:"nav-user"},"Welcome, ",N),g?r.a.createElement(m.a,{className:"logout-btn",onClick:function(){T(!0)}},"Logout"):null))),r.a.createElement(p.a,{open:C,onClose:Q,"aria-labelledby":"form-dialog-title",PaperProps:{style:{backgroundColor:"white",color:"black",minWidth:"10%",textAlign:"center"}}},r.a.createElement(d.a,null,"Are you sure you want to logout?"),r.a.createElement("div",{className:"btn-div"},r.a.createElement(m.a,{className:"logout-btn m-right",onClick:function(){localStorage.clear(),a(!1),T(!1),z(!0),setInterval((function(){z(!1)}),1e3)}},"Yes"),r.a.createElement(m.a,{className:"cancel-btn m-left",onClick:Q},"No"))),r.a.createElement(p.a,{open:A,onClose:Q,"aria-labelledby":"form-dialog-title",PaperProps:{style:{backgroundColor:"white",color:"#333",minWidth:"40%"}},style:{width:"100%"}},r.a.createElement("div",{className:"modal-info"},r.a.createElement(u.a,{variant:"h5",className:"type-head"},"Are you a student or an organizer?"),r.a.createElement("div",{className:"modal-btns"},r.a.createElement(h.b,{to:"/login/user",className:"link"},r.a.createElement(m.a,{variant:"outlined",color:"primary",className:"modal-select-btn modal-student",onClick:function(){return D(!1)}},"Student")),r.a.createElement(h.b,{to:"/login/organizer",className:"link"},r.a.createElement(m.a,{variant:"outlined",color:"secondary",className:"modal-select-btn modal-organizer",onClick:function(){return D(!1)}},"Organizer"))))))},g=a(441),v=a(439),O=a(484);a(234),a(235);var j=function(){var e=Object(n.useContext)(f).isLoggedIn,t=Object(n.useState)(!1),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(!1),i=Object(o.a)(s,2),d=i[0],b=i[1],E=function(){l(!1),b(!1)};return e?e?r.a.createElement("div",{className:"play-container"},r.a.createElement(v.a,{container:!0,spacing:0},r.a.createElement(v.a,{item:!0,xs:12,md:6},r.a.createElement("div",{className:"play-menu"},r.a.createElement(h.b,{to:"/dashboard",style:{textDecoration:"none"}},r.a.createElement(m.a,{size:"large",className:"quiz-button"},r.a.createElement("p",{className:"button-text"},"Go to the Dashboard"))))))):void 0:r.a.createElement("div",{className:"play-container"},r.a.createElement(v.a,{container:!0,spacing:0},r.a.createElement(v.a,{item:!0,xs:12,md:6,className:"not-logged-menu"},r.a.createElement(u.a,{variant:"h4",className:"login-msg"},"You are not logged in!"),r.a.createElement(u.a,{variant:"h6",className:"login-msg"},"Login/Signup to continue!"),r.a.createElement("div",{className:"button-bar"},r.a.createElement(m.a,{size:"large",className:"action-button login-button",onClick:function(){return l(!0)}},"Login"),r.a.createElement(m.a,{size:"large",className:"action-button signup-button",onClick:function(){return b(!0)}},"SignUp")))),r.a.createElement(p.a,{open:c,onClose:E,"aria-labelledby":"form-dialog-title",PaperProps:{style:{backgroundColor:"white",color:"#333",minWidth:"40%"}},style:{width:"100%"}},r.a.createElement("div",{className:"modal-info"},r.a.createElement(u.a,{variant:"h5",className:"type-head"},"Are you a student or an organizer?"),r.a.createElement("div",{className:"modal-btns"},r.a.createElement(h.b,{to:"/login/user",className:"link"},r.a.createElement(m.a,{variant:"outlined",color:"primary",className:"modal-select-btn modal-student"},"Student")),r.a.createElement(h.b,{to:"/login/organizer",className:"link"},r.a.createElement(m.a,{variant:"outlined",color:"secondary",className:"modal-select-btn modal-organizer"},"Organizer"))))),r.a.createElement(p.a,{open:d,onClose:E,"aria-labelledby":"form-dialog-title",PaperProps:{style:{backgroundColor:"white",color:"#333",minWidth:"40%"}},style:{width:"100%"}},r.a.createElement("div",{className:"modal-info"},r.a.createElement(u.a,{variant:"h5",className:"type-head"},"Are you a student or an organizer?"),r.a.createElement("div",{className:"modal-btns"},r.a.createElement(h.b,{to:"/register/user",className:"link"},r.a.createElement(m.a,{variant:"outlined",color:"primary",className:"modal-select-btn modal-student"},"Student")),r.a.createElement(h.b,{to:"/register/organizer",className:"link"},r.a.createElement(m.a,{variant:"outlined",color:"secondary",className:"modal-select-btn modal-organizer"},"Organizer"))))))},N=a(8),y=a.n(N),S=a(440);a(122);var x=function(){return r.a.createElement("div",{className:"loading-screen"},r.a.createElement(S.a,{color:"secondary"}))};a(253);var k=function(e){var t=Object(n.useState)(!0),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(!1),i=Object(o.a)(s,2),u=i[0],m=i[1],p=Object(n.useContext)(f),d=p.setLoggedIn,h=p.setAuthToken,E=p.changeName;return Object(n.useEffect)((function(){(function(){var e=window.location.search.substring(1).split("&"),t=null,a=null;return e.map((function(e){var n=e.split("=");"name"===n[0]?t=decodeURIComponent(n[1]):"token"===n[0]&&(a=n[1])})),null!==t&&null!==a&&(h(a),E(t),localStorage.setItem("authToken",a),localStorage.setItem("name",t),localStorage.setItem("userLoggedIn",!0),d(!0),m(!0),!0)})()||(null===localStorage.getItem("authToken")?(d(!1),l(!1)):(d(!0),m(!0),l(!1)))}),[]),u?r.a.createElement(b.a,{to:"/dashboard"}):c?r.a.createElement(x,null):r.a.createElement(g.a,{className:"welcome-page"},r.a.createElement("div",{className:"welcome-screen"},r.a.createElement(v.a,{container:!0,spacing:0},r.a.createElement(v.a,{item:!0,xs:12,md:6,className:"heading-section"},r.a.createElement("img",{src:"head.png",className:"quiz-image",alt:"Welcome to pSmcQ"})),r.a.createElement(O.a,{smDown:!0},r.a.createElement(v.a,{item:!0,xs:12,md:6,className:"pin-section"},r.a.createElement("img",{src:"quiz.png",className:"pin-image",alt:"User Representation"})))),r.a.createElement(j,null)))},z=a(7),q=a.n(z),w=a(10),C=(a(125),a(264),a(399)),T=a(149),I=a(481),P=a(6),A=a(212),D=Object(P.a)({root:{"& label":{color:"rgba(0,0,0,0.7)"},"& label.Mui-focused":{color:"#2980B9"},"& .MuiInput-underline:after":{borderBottomColor:"#2980B9"},"& .MuiInputBase-input":{color:"black !important"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(0,0,0,0.7)"},"&:hover fieldset":{borderColor:"#2980B9"},"&.Mui-focused fieldset":{borderColor:"#2980B9"}}}})(A.a),Q=a(81),_=a.n(Q),L=a(448),R=a(449),U=a(24);var F=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(""),i=Object(o.a)(s,2),p=i[0],d=i[1],E=Object(n.useState)(!1),v=Object(o.a)(E,2),O=v[0],j=v[1],N=Object(n.useState)(""),S=Object(o.a)(N,2),k=S[0],z=S[1],P=Object(n.useState)(""),A=Object(o.a)(P,2),_=A[0],F=A[1],W=Object(n.useState)(!1),H=Object(o.a)(W,2),M=H[0],B=H[1],Y=Object(n.useState)(!1),K=Object(o.a)(Y,2),G=K[0],V=K[1],J=Object(n.useState)(null),Z=Object(o.a)(J,2),X=Z[0],$=Z[1],ee=Object(n.useState)("Error Logging In! Try again...."),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!1),ce=Object(o.a)(re,2),le=ce[0],oe=ce[1],se=Object(n.useState)(!1),ie=Object(o.a)(se,2),ue=ie[0],me=ie[1],pe=Object(n.useState)(!1),de=Object(o.a)(pe,2),be=(de[0],de[1],Object(n.useState)(!1)),he=Object(o.a)(be,2),fe=he[0],Ee=he[1],ge=Object(n.useState)(""),ve=Object(o.a)(ge,2),Oe=ve[0],je=ve[1],Ne=e.match.params.type,ye=Object(n.useState)(!1),Se=Object(o.a)(ye,2),xe=Se[0],ke=Se[1],ze=Object(U.b)().executeRecaptcha,qe=Object(n.useContext)(f),we=qe.setLoggedIn,Ce=qe.changeName,Te=qe.setAuthToken,Ie=(qe.setAdmin,"Email cannot be empty"),Pe="Password cannot be empty",Ae=function(e){"Enter"===e.key&&De()};Object(n.useEffect)((function(){0===c.length?d(Ie):d(""),0===k.length?F(Pe):F("")}),[c,k]);var De=function(){var e=Object(w.a)(q.a.mark((function e(t){var a,n,r,l,o,s;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!0),B(!0),a=!1,0===c.length?(d(Ie),a=!0):Q.validate(c)||(d("Invalid email address!"),a=!0),0===k.length?(F(Pe),a=!0):k.length<8&&(F("Minimum length of password must be 8."),a=!0),a||0!==p.length||0!==_.length){e.next=25;break}return ke(!0),n=Ne,"organizer"===Ne&&(n="admin"),r="http://psmcq.online/".concat(n,"/login"),e.next=12,ze("login_page");case 12:return l=e.sent,o={email:c,password:k,captcha:l},s=null,e.prev=15,e.next=18,y.a.post(r,o).then((function(e){s=e}));case 18:200===s.status&&(Ce(s.data.userDetails.name),we(!0),Te(s.data.token),localStorage.setItem("userLoggedIn",!0),localStorage.setItem("name",s.data.userDetails.name),localStorage.setItem("authToken",s.data.token),"owner"===Ne?me(!0):oe(!0)),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(15),console.log(e.t0),409===e.t0.response.status?(je(o.email),Ee(!0)):401===e.t0.response.status?(ne("Invalid Credentials..."),$(!1)):(ne("Error Logging In! Try again...."),$(!1));case 25:ke(!1);case 26:case"end":return e.stop()}}),e,null,[[15,21]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){"user"!==Ne&&"organizer"!==Ne&&"owner"!==Ne&&oe(!0)}),[Ne]),!0===le?r.a.createElement(b.a,{to:"/"}):ue?r.a.createElement(b.a,{to:"/coronilOP"}):xe?r.a.createElement(x,null):r.a.createElement(g.a,{className:"login-page"},r.a.createElement("div",{className:"login-form"},r.a.createElement(u.a,{variant:"h3",color:"primary",className:"login-head"},"user"===Ne?"Login Now":"organizer"===Ne?"Organizer Login":"Owner Login"),r.a.createElement("br",null),!1===X?r.a.createElement(I.a,{severity:"error"},ae):null,fe?r.a.createElement(I.a,{severity:"error"},"Your email is not verified.",r.a.createElement(h.b,{className:"link",style:{color:"red"},to:{pathname:"/verify/".concat(Ne),state:{email:Oe,sendCode:!0}}},"Click here to verify...")):null,"owner"!==Ne?r.a.createElement("a",{href:"user"===Ne?"http://psmcq.online/auth/google":"http://psmcq.online/auth/admin/google",className:"google-link"},r.a.createElement("div",{className:"google-btn"},r.a.createElement("div",{className:"google-icon-wrapper"},r.a.createElement("img",{className:"google-icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg"})),r.a.createElement("p",{className:"btn-text"},r.a.createElement("b",null,"Sign in with Google")))):null,r.a.createElement("form",{className:"form"},r.a.createElement(D,{error:!!O&&0!==p.length,helperText:O?0===p.length?null:p:null,id:"email",label:"Email",type:"email",className:"form-input",variant:"outlined",value:c,onChange:function(e){j(!0),l(e.target.value)},onKeyPress:Ae}),r.a.createElement("br",null),r.a.createElement(D,{error:!!M&&0!==_.length,helperText:M?0===_.length?null:_:null,id:"password",type:G?"text":"password",label:"Password",className:"form-input",variant:"outlined",value:k,onChange:function(e){B(!0),z(e.target.value)},onKeyPress:Ae,InputProps:{endAdornment:r.a.createElement(C.a,{position:"end"},r.a.createElement(T.a,{"aria-label":"show password",onClick:function(){V(!G)},edge:"end"},G?r.a.createElement(L.a,null):r.a.createElement(R.a,null)))}})),r.a.createElement("div",{className:"forgot-section"},"owner"===Ne?null:r.a.createElement(h.b,{to:"/forgotPassword/".concat(Ne),className:"link forgot-pass"},"Forgot your password?")),r.a.createElement(m.a,{className:"login-btn",onClick:De},"Login"),r.a.createElement(h.b,{to:"/register/".concat(Ne),className:"link register-link"},"Don't have an account? Join the pSmcQ now!")))};a(265);var W=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(""),i=Object(o.a)(s,2),p=i[0],d=i[1],h=Object(n.useState)(!1),f=Object(o.a)(h,2),E=f[0],v=f[1],O=Object(n.useState)(""),j=Object(o.a)(O,2),N=j[0],S=j[1],k=Object(n.useState)(""),z=Object(o.a)(k,2),P=z[0],A=z[1],_=Object(n.useState)(!1),F=Object(o.a)(_,2),W=F[0],H=F[1],M=Object(n.useState)(""),B=Object(o.a)(M,2),Y=B[0],K=B[1],G=Object(n.useState)(""),V=Object(o.a)(G,2),J=V[0],Z=V[1],X=Object(n.useState)(!1),$=Object(o.a)(X,2),ee=$[0],te=$[1],ae=Object(n.useState)(""),ne=Object(o.a)(ae,2),re=ne[0],ce=ne[1],le=Object(n.useState)(""),oe=Object(o.a)(le,2),se=oe[0],ie=oe[1],ue=Object(n.useState)(!1),me=Object(o.a)(ue,2),pe=me[0],de=me[1],be=Object(n.useState)(""),he=Object(o.a)(be,2),fe=he[0],Ee=he[1],ge=Object(n.useState)(""),ve=Object(o.a)(ge,2),Oe=ve[0],je=ve[1],Ne=Object(n.useState)(!1),ye=Object(o.a)(Ne,2),Se=ye[0],xe=ye[1],ke=Object(n.useState)(!1),ze=Object(o.a)(ke,2),qe=ze[0],we=ze[1],Ce=Object(n.useState)(""),Te=Object(o.a)(Ce,2),Ie=Te[0],Pe=Te[1],Ae=Object(n.useState)(""),De=Object(o.a)(Ae,2),Qe=De[0],_e=De[1],Le=Object(n.useState)(!1),Re=Object(o.a)(Le,2),Ue=Re[0],Fe=Re[1],We=Object(n.useState)(!1),He=Object(o.a)(We,2),Me=He[0],Be=He[1],Ye=Object(n.useState)(!1),Ke=Object(o.a)(Ye,2),Ge=Ke[0],Ve=Ke[1],Je=Object(n.useState)(!1),Ze=Object(o.a)(Je,2),Xe=Ze[0],$e=Ze[1],et=Object(n.useState)(!1),tt=Object(o.a)(et,2),at=(tt[0],tt[1],Object(n.useState)(!1)),nt=Object(o.a)(at,2),rt=nt[0],ct=nt[1],lt=Object(n.useState)(!1),ot=Object(o.a)(lt,2),st=ot[0],it=ot[1],ut=Object(n.useState)(""),mt=Object(o.a)(ut,2),pt=mt[0],dt=mt[1],bt=e.match.params.type,ht=Object(U.b)().executeRecaptcha,ft=function(e){return"".concat(e," cannot be empty")},Et=function(e){"Enter"===e.key&&gt()};Object(n.useEffect)((function(){0===c.length?d(ft("Name")):d(""),0===re.length?ie(ft("Email")):ie(""),0===fe.length?je(ft("Password")):je(""),0===N.length?A(ft("Phone Number")):A(""),"owner"===bt&&(0===Y.length?Z(ft("Board Position")):Z(""),0===Ie.length?_e(ft("Secret Code")):_e(""))}),[c,re,fe,N,Y,Ie]);var gt=function(){var e=Object(w.a)(q.a.mark((function e(t){var a,n,r,l,o,s;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),xe(!0),de(!0),H(!0),"owner"===bt&&(te(!0),Fe(!0)),a=!1,0===c.trim().length&&(ie(ft("Name")),a=!0),0===re.trim().length?(ie(ft("Email")),a=!0):Q.validate(re)||(ie("Invalid email address!"),a=!0),0===fe.trim().length?(je(ft("Password")),a=!0):fe.length<8&&(je("Minimum length of password must be 8."),a=!0),"owner"===bt&&(0===Y.trim().length&&(Z(ft("Board Position")),a=!0),0===Ie.trim().length&&(_e(ft("Secret Code")),a=!0)),0===N.trim().length?(A(ft("Phone Number")),a=!0):10!==N.length&&(A("Invalid phone number"),a=!0),a||0!==se.length||0!==Oe.length){e.next=35;break}return ct(!0),n=bt,"organizer"===bt&&(n="admin"),r="http://psmcq.online/".concat(n,"/signup"),l=null,e.next=19,ht("signup_page");case 19:return o=e.sent,console.log(o),l="owner"===bt?{name:c,email:re,password:fe,mobileNumber:N,boardPosition:Y,signupCode:Ie,captcha:o}:{name:c,email:re,password:fe,mobileNumber:N,captcha:o},s=null,e.prev=23,e.next=26,y.a.post(r,l).then((function(e){s=e}));case 26:201===s.status&&($e(!0),Be(!0)),e.next=35;break;case 29:e.prev=29,e.t0=e.catch(23),409===e.t0.response.status?dt("Account already exists..."):"owner"===bt&&400===e.t0.response.status?dt("Wrong secret code..."):dt("There was some error!"),xe(!1),Ee(""),it(!0);case 35:ct(!1);case 36:case"end":return e.stop()}}),e,null,[[23,29]])})));return function(t){return e.apply(this,arguments)}}();if(Object(n.useEffect)((function(){"user"!==bt&&"organizer"!==bt&&"owner"!==bt&&Ve(!0)}),[bt]),!0===Me){var vt="user"===bt?"user":"organizer"===bt?"organizer":"owner";return r.a.createElement(b.a,{to:{pathname:"/verify/".concat(vt),state:{email:re}}})}return Ge?r.a.createElement(b.a,{to:"/"}):rt?r.a.createElement(x,null):r.a.createElement(g.a,{className:"login-page"},r.a.createElement("div",{className:"login-form"},r.a.createElement(u.a,{variant:"h3",color:"primary",className:"login-head signup-text"},"user"===bt?"Join the force!":"organizer"===bt?"Organizer Sign Up":"Owner Signup"),r.a.createElement("br",null),!0===Xe?r.a.createElement(I.a,{severity:"success",color:"warning"},"Succesfully Signed Up! Redirecting..."):null,!0===st?r.a.createElement(I.a,{severity:"error",color:"error"},pt):null,"owner"!==bt?r.a.createElement("a",{href:"user"===bt?"http://psmcq.online/auth/google":"http://psmcq.online/auth/admin/google",className:"google-link"},r.a.createElement("div",{className:"google-btn"},r.a.createElement("div",{className:"google-icon-wrapper"},r.a.createElement("img",{className:"google-icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"google"})),r.a.createElement("p",{className:"btn-text"},r.a.createElement("b",null,"Sign up with Google")))):null,r.a.createElement("form",{className:"form"},r.a.createElement(D,{error:!!E&&0!==p.length,helperText:E?0===p.length?null:p:null,id:"name",label:"Name",type:"text",className:"form-input",variant:"outlined",value:c,onChange:function(e){v(!0),l(e.target.value)},onKeyPress:Et}),r.a.createElement(D,{error:!!W&&0!==P.length,helperText:W?0===P.length?null:P:null,id:"phone-number",label:"Phone Number",type:"text",className:"form-input",variant:"outlined",value:N,onChange:function(e){H(!0),S(e.target.value)},onKeyPress:Et}),"owner"===bt?r.a.createElement(D,{error:!!ee&&0!==J.length,helperText:ee?0===J.length?null:J:null,id:"board-position",label:"Board Position",type:"text",className:"form-input",variant:"outlined",value:Y,onChange:function(e){te(!0),K(e.target.value)},onKeyPress:Et}):null,r.a.createElement(D,{error:!!pe&&0!==se.length,helperText:pe?0===se.length?null:se:null,id:"email",label:"Email",type:"email",className:"form-input",variant:"outlined",value:re,onChange:function(e){de(!0),ce(e.target.value)},onKeyPress:Et}),r.a.createElement(D,{error:!!Se&&0!==Oe.length,helperText:Se?0===Oe.length?null:Oe:null,id:"password",type:qe?"text":"password",label:"Password",className:"form-input",variant:"outlined",value:fe,onChange:function(e){xe(!0),Ee(e.target.value)},onKeyPress:Et,InputProps:{endAdornment:r.a.createElement(C.a,{position:"end"},r.a.createElement(T.a,{"aria-label":"show password",onClick:function(){we(!qe)},edge:"end"},qe?r.a.createElement(L.a,null):r.a.createElement(R.a,null)))}}),"owner"===bt?r.a.createElement(D,{error:!!Ue&&0!==Qe.length,helperText:Ue?0===Qe.length?null:Qe:null,id:"owner-code",label:"Secret Code",type:"text",className:"form-input",variant:"outlined",value:Ie,onChange:function(e){Fe(!0),Pe(e.target.value)},onKeyPress:Et}):null),r.a.createElement(m.a,{className:"login-btn signup-btn",onClick:gt},"Sign Up")))},H=a(444),M=a(397),B=a(492),Y=a(450),K=a(482);a(266);var G=function(){return r.a.createElement("div",{className:"loading-screen"},r.a.createElement(S.a,{color:"secondary"}),r.a.createElement("div",{className:"loader"},"Submitting your answers",r.a.createElement("span",{className:"loader__dot"},"."),r.a.createElement("span",{className:"loader__dot"},"."),r.a.createElement("span",{className:"loader__dot"},".")))},V=a(487),J=a(85),Z=a.n(J);var X=function(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(1),i=Object(o.a)(s,2),u=i[0],h=i[1],f=Object(n.useState)(!0),E=Object(o.a)(f,2),g=E[0],O=E[1],j=Object(n.useState)([]),N=Object(o.a)(j,2),S=N[0],k=N[1],z=Object(n.useState)(0),C=Object(o.a)(z,2),T=C[0],I=C[1],P=Object(n.useState)(null),A=Object(o.a)(P,2),D=A[0],Q=A[1],_=Object(n.useState)(-1),L=Object(o.a)(_,2),R=L[0],F=L[1],W=Object(n.useState)(-1),J=Object(o.a)(W,2),X=J[0],$=J[1],ee=Object(n.useState)(""),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(!1),ce=Object(o.a)(re,2),le=ce[0],oe=ce[1],se=Object(n.useState)(!1),ie=Object(o.a)(se,2),ue=ie[0],me=ie[1],pe=Object(n.useState)(null),de=Object(o.a)(pe,2),be=de[0],he=de[1],fe=Object(n.useState)(!1),Ee=Object(o.a)(fe,2),ge=Ee[0],ve=Ee[1],Oe=Object(n.useState)(!1),je=Object(o.a)(Oe,2),Ne=je[0],ye=je[1],Se=Object(n.useState)(!1),xe=Object(o.a)(Se,2),ke=xe[0],ze=xe[1],qe=Object(n.useState)(!1),we=Object(o.a)(qe,2),Ce=we[0],Te=we[1],Ie=Object(n.useState)(!1),Pe=Object(o.a)(Ie,2),Ae=Pe[0],De=Pe[1],Qe=Object(n.useState)(-1),_e=Object(o.a)(Qe,2),Le=_e[0],Re=_e[1],Ue=Object(V.a)(),Fe=Object(U.b)().executeRecaptcha,We=function(){var t=Object(w.a)(q.a.mark((function t(){var a,n,r,l;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ze(!0),a=localStorage.getItem("authToken"),n="http://psmcq.online/quiz/check",t.next=5,Fe("submit_token");case 5:return r=t.sent,l={quizId:c,questions:be,timeStarted:e.location.state.timeStarted,timeEnded:Date.now(),captcha:r},t.prev=7,t.next=10,y.a.post(n,l,{headers:{"auth-token":a}}).then((function(e){ye(!0)}));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(7),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[7,12]])})));return function(){return t.apply(this,arguments)}}(),He=function(){Te(!1)},Me=function(){Te(!0)},Be=function(){var e=Object(w.a)(q.a.mark((function e(){var t,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),oe(!0),t=localStorage.getItem("authToken"),"http://psmcq.online/quiz/finish",a={quizId:c},e.prev=5,e.next=8,y.a.patch("http://psmcq.online/quiz/finish",a,{headers:{"auth-token":t}}).then((function(e){ve(!0)}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=T+1;h(u+1),I(T+1),Q(be[e].selectedOption)},Ke=function(){var e=T-1;h(u-1),I(T-1),Q(be[e].selectedOption)};return Object(n.useEffect)((function(){if(!Ue)return me(!0),void ve(!0)}),[Ue]),Object(n.useEffect)((function(){if(1!==Le){var e=Number(X)+60*R*1e3;if(!g&&e>0&&Number(e)<Number(Date.now()))return void Be();setTimeout((function(){ne(Z()(new Date,new Date(Number(e)),Z.a.MINUTES|Z.a.SECONDS).toString())}),1e3)}})),Object(n.useEffect)((function(){null!==localStorage.getItem("authToken")&&void 0!==e.location.state?(l(e.location.state.id),F(e.location.state.duration),$(e.location.state.start),k(e.location.state.questions),function(e){var t=[],a=[];if(0===e.length)return De(!0),void ve(!0);e.map((function(e){var n={q_id:e.questionId,text:e.description,options:e.options};t.push(n);var r={quesId:e.questionId,selectedOption:null};a.push(r)})),k(t),he(a),O(!1)}(e.location.state.questions),Re(e.location.state.restartStatus)):ve(!0)}),[]),ge?r.a.createElement(b.a,{to:{pathname:"/dashboard",state:{blocked:ue,timeUp:le,emptyQuiz:Ae}}}):Ne?r.a.createElement(b.a,{to:"/results/".concat(c)}):ke?r.a.createElement(G,null):g?r.a.createElement(x,null):r.a.createElement("div",{className:"quiz-page"},r.a.createElement(v.a,{container:!0,xs:12,spacing:5,className:"quiz-container"},r.a.createElement(v.a,{item:!0,xs:10,md:8,lg:7,className:"q-count"},r.a.createElement("h2",{style:{padding:0}},"QUESTION ",u," OF ",S.length)),r.a.createElement(v.a,{item:!0,xs:10,md:8,lg:7,className:"timer"},r.a.createElement("p",{style:{margin:0}},"Time Remaining"," ",r.a.createElement("h2",{className:"rem-time-display"},1!==Le?ae:"Until organizer closes the quiz"))),r.a.createElement(v.a,{item:!0,xs:10,md:8,lg:7,style:{margin:0,padding:"2%",borderBottom:"3px solid #222",minHeight:"30vh"}},r.a.createElement(H.a,{style:{margin:"auto",width:"100%"},component:"fieldset"},r.a.createElement(M.a,{className:"label",component:"legend"},r.a.createElement("p",{className:"question"},S[T].text)),r.a.createElement(B.a,{"aria-label":"correct-choice",value:D,onChange:function(e){Q(e.target.value);var t=be;t[T].selectedOption=e.target.value,he(t)}},S[T].options.map((function(e){return r.a.createElement(Y.a,{key:e._id,value:e.text,control:r.a.createElement(K.a,{className:"radio"}),label:e.text,style:{margin:0}})}))))),r.a.createElement(v.a,{item:!0,xs:10,md:8,lg:7,className:"button"},r.a.createElement(v.a,{item:!0,xs:6,className:"button"},1!==u?r.a.createElement("button",{className:"quiz-btn prev-button",onClick:Ke},r.a.createElement("p",null,"Previous")):null),r.a.createElement(v.a,{item:!0,xs:6,className:"button"},u<S.length?r.a.createElement("button",{className:"quiz-btn next-button",onClick:Ye},r.a.createElement("p",null,"Next")):u===S.length?r.a.createElement("button",{className:"quiz-btn submit-button",onClick:Me},r.a.createElement("p",null,"Submit")):null))),r.a.createElement(p.a,{open:Ce,onClose:He,"aria-labelledby":"form-dialog-title",PaperProps:{style:{backgroundColor:"white",color:"#333",minWidth:"10%"}}},r.a.createElement(d.a,null,"Are you sure you want to submit the quiz?"),r.a.createElement("div",{className:"btn-div"},r.a.createElement(m.a,{className:"logout-btn m-right",onClick:function(e){We()}},"Yes"),r.a.createElement(m.a,{className:"cancel-btn m-left",onClick:He},"No"))))};a(267);var $=function(){return r.a.createElement("div",{className:"error-section"},r.a.createElement(g.a,null,r.a.createElement(u.a,{variant:"h2",className:"error-msg"},"Oops! Looks like there is nothing on this URL!")))};a(173);var ee=function(e){var t=Object(n.useState)(e.match.params.type),a=Object(o.a)(t,1)[0],c=Object(n.useState)(""),l=Object(o.a)(c,2),s=l[0],i=l[1],p=Object(n.useState)(""),d=Object(o.a)(p,2),h=d[0],f=d[1],E=Object(n.useState)(!1),v=Object(o.a)(E,2),O=v[0],j=v[1],N=Object(n.useState)(""),S=Object(o.a)(N,2),k=S[0],z=S[1],C=Object(n.useState)(""),T=Object(o.a)(C,2),P=T[0],A=T[1],Q=Object(n.useState)(!1),L=Object(o.a)(Q,2),R=L[0],F=L[1],W=Object(n.useState)(""),H=Object(o.a)(W,2),M=H[0],B=H[1],Y=Object(n.useState)(""),K=Object(o.a)(Y,2),G=K[0],V=K[1],J=Object(n.useState)(!0),Z=Object(o.a)(J,2),X=Z[0],$=Z[1],ee=Object(n.useState)(""),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(""),ce=Object(o.a)(re,2),le=ce[0],oe=ce[1],se=Object(n.useState)(!1),ie=Object(o.a)(se,2),ue=ie[0],me=ie[1],pe=Object(n.useState)(!1),de=Object(o.a)(pe,2),be=de[0],he=de[1],fe=Object(n.useState)(!1),Ee=Object(o.a)(fe,2),ge=Ee[0],ve=Ee[1],Oe=Object(n.useState)(!1),je=Object(o.a)(Oe,2),Ne=je[0],ye=je[1],Se=Object(n.useState)(!1),xe=Object(o.a)(Se,2),ke=xe[0],ze=xe[1],qe=Object(n.useState)(!1),we=Object(o.a)(qe,2),Ce=we[0],Te=we[1],Ie=Object(n.useState)(!1),Pe=Object(o.a)(Ie,2),Ae=Pe[0],De=Pe[1],Qe=Object(n.useState)(!1),_e=Object(o.a)(Qe,2),Le=_e[0],Re=_e[1],Ue=Object(n.useState)(!1),Fe=Object(o.a)(Ue,2),We=Fe[0],He=Fe[1],Me=Object(U.b)().executeRecaptcha,Be=function(e){"Enter"===e.key&&(be?Ge():Ke())},Ye="Email cannot be empty!",Ke=function(){var e=Object(w.a)(q.a.mark((function e(t){var n,r,c,l;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!0),n=!1,0===s.length?(f(Ye),n=!0):_.a.validate(s)||(f("Invalid email address!"),n=!0),n||0!==h.length){e.next=20;break}return De(!0),e.next=7,Me("forgot_pass");case 7:return r=e.sent,c=null,"organizer"===a?c="http://psmcq.online/admin/forgot":"user"===a&&(c="http://psmcq.online/user/forgot"),l={email:s,captcha:r},e.prev=11,e.next=14,y.a.post(c,l).then((function(e){he(!0)}));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(11),400===e.t0.response.status&&ze(!0),console.log(e.t0);case 20:De(!1);case 21:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(w.a)(q.a.mark((function e(t){var n,r,c,l;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,M!==k&&(n=!0,V("Does not match the password!")),n){e.next=26;break}return De(!0),r=null,"organizer"===a?r="http://psmcq.online/admin/resetpass":"user"===a&&(r="http://psmcq.online/user/resetpass"),e.next=8,Me("reset_pass");case 8:return c=e.sent,l={resetKey:ae,newPassword:k,captcha:c},null,e.prev=11,e.next=14,y.a.post(r,l).then((function(e){$(!1),Te(!0)}));case 14:e.next=21;break;case 16:e.prev=16,e.t0=e.catch(11),$(!1),400===e.t0.response.status?ve(!0):401===e.t0.response.status&&ye(!0),console.log(e.t0);case 21:z(""),B(""),ne(""),F(!1),me(!1);case 26:De(!1);case 27:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){"user"===e.match.params.type||"organizer"===e.match.params.type?(0===s.length?f(Ye):f(""),0===k.length?A("Password cannot be empty!"):A(""),0===ae.length?oe("Enter the reset code."):oe("")):Re(!0)}),[s,k,ae]),Object(n.useEffect)((function(){Ce&&setTimeout((function(){He(!0)}),1500)}),[Ce]),Ae?r.a.createElement(x,null):Le?r.a.createElement(b.a,{to:"/"}):We?r.a.createElement(b.a,{to:"/login/".concat(a)}):be?be?r.a.createElement(g.a,{className:"login-page"},r.a.createElement("div",{className:"login-form"},r.a.createElement(u.a,{variant:"h3",color:"primary",className:"login-head forgot-head"},"Forgot Password"),r.a.createElement("br",null),X?r.a.createElement(I.a,{severity:"info"},"Reset code sent!"):null,ge?r.a.createElement(I.a,{severity:"error",color:"warning"},"Invalid reset Code"):null,Ne?r.a.createElement(I.a,{severity:"error",color:"warning"},"Reset Code expired!"):null,Ce?r.a.createElement(I.a,{severity:"success",color:"warning"},"Password reset successful! Redirecting..."):null,r.a.createElement("form",{className:"form"},r.a.createElement(D,{error:!!ue&&0!==le.length,helperText:ue?0===le.length?null:le:null,id:"reset-code",label:"Reset Code",type:"text",className:"form-input",variant:"outlined",value:ae,onChange:function(e){me(!0),ne(e.target.value)},onKeyPress:Be}),r.a.createElement(D,{error:!!R&&0!==P.length,helperText:R?0===P.length?null:P:null,id:"password",label:"New Password",type:"password",className:"form-input",variant:"outlined",value:k,onChange:function(e){F(!0),z(e.target.value)},onKeyPress:Be}),r.a.createElement(D,{error:0!==G.length,helperText:G,id:"confirm-password",label:"Confirm Password",type:"password",className:"form-input",variant:"outlined",value:M,onChange:function(e){B(e.target.value)},onKeyPress:Be})),r.a.createElement(m.a,{className:"login-btn",onClick:Ge},"Reset Password"))):void 0:r.a.createElement(g.a,{className:"login-page"},r.a.createElement("div",{className:"login-form"},r.a.createElement(u.a,{variant:"h3",color:"primary",className:"login-head forgot-head"},"Forgot Password"),r.a.createElement("br",null),ke?r.a.createElement(I.a,{severity:"error",color:"warning"},"We couldn't find a user with that e-mail address."):null,r.a.createElement("form",{className:"form"},r.a.createElement(D,{error:!!O&&0!==h.length,helperText:O?0===h.length?null:h:null,id:"email",label:"Email",type:"email",className:"form-input",variant:"outlined",value:s,onChange:function(e){j(!0),i(e.target.value)},onKeyPress:Be})),r.a.createElement(m.a,{className:"login-btn",onClick:Ke},"Send mail")))},te=a(479),ae=a(463),ne=a(485);a(174),a(268);var re=function(e){var t=Object(n.useState)(e.type),a=Object(o.a)(t,2),c=a[0],l=(a[1],e.profile);return r.a.createElement("div",{className:"profile-section"},r.a.createElement(u.a,{variant:"h6",className:"profile-param"},"Name: ",r.a.createElement("span",{className:"profile-data"},l.name)),r.a.createElement(u.a,{variant:"h6",className:"profile-param"},"E-mail: ",r.a.createElement("span",{className:"profile-data resp-text"},l.email)),r.a.createElement(u.a,{variant:"h6",className:"profile-param"},"Phone Number: ",r.a.createElement("span",{className:"profile-data"},l.mobileNumber)),"user"===c?r.a.createElement("div",null,r.a.createElement(u.a,{variant:"h6",className:"profile-param"},"Quizzes Enrolled: ",r.a.createElement("span",{className:"profile-data"},l.quizzesEnrolled.length)),r.a.createElement(u.a,{variant:"h6",className:"profile-param"},"Quizzes Completed: ",r.a.createElement("span",{className:"profile-data"},l.quizzesGiven.length))):r.a.createElement(u.a,{variant:"h6",className:"profile-param"},"Quizzes Created: ",r.a.createElement("span",{className:"profile-data"},l.quizzes.length)),r.a.createElement("div",{className:"m-top"},r.a.createElement(m.a,{className:"profile-btn update-prof-btn",component:h.b,to:"/updateProfile/".concat(c)},"Update Profile"),void 0===l.googleId?r.a.createElement(m.a,{className:"profile-btn",component:h.b,to:"/updatePassword/".concat(c)},"Update Password"):null))},ce=(a(269),a(490)),le=a(451),oe=a(452),se=a(453),ie=a(493),ue=a(447),me=a(400),pe=a(455),de=a(456),be=a(454),he=a(457);var fe=function(){return r.a.createElement("div",{className:"loading-screen"},r.a.createElement(S.a,{color:"primary"}),r.a.createElement("div",{className:"loader"},"Loading Quizzes",r.a.createElement("span",{className:"loader__dot"},"."),r.a.createElement("span",{className:"loader__dot"},"."),r.a.createElement("span",{className:"loader__dot"},".")))};var Ee=Object(ce.a)()((function(e){var t=Object(n.useState)(e.type),a=Object(o.a)(t,2),c=a[0],l=(a[1],Object(n.useState)(e.profile)),s=Object(o.a)(l,2),i=s[0],u=(s[1],Object(n.useState)([])),m=Object(o.a)(u,2),p=m[0],d=m[1],b=Object(n.useState)(!0),f=Object(o.a)(b,2),E=f[0],g=f[1],v=function(){var e=Object(w.a)(q.a.mark((function e(){var t,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("authToken"),a=null,a="admin"===c?"http://psmcq.online/admin/created":"http://psmcq.online/user/quizzesGiven",e.prev=3,e.next=6,y.a.get(a,{headers:{"auth-token":t}}).then((function(e){var t=e.data.result.sort((function(e,t){return e.scheduledFor-t.scheduledFor}));d(t),g(!1)}));case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0),g(!1);case 12:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){v()}),[]),E?r.a.createElement(fe,null):"admin"===c?r.a.createElement("div",{className:"history-section"},0===p.length?r.a.createElement("p",{style:{textAlign:"center"}},"You have not created any quizzes yet!"):r.a.createElement(le.a,{cols:Object(ce.c)("md",e.width)?3:2,className:"grid-list"},p.map((function(e){return r.a.createElement(oe.a,{key:e._id,className:"quiz-tile"},r.a.createElement("img",{src:"../CC LOGO-01.svg"}),r.a.createElement(se.a,{title:e.quizName,subtitle:"By: You",actionIcon:r.a.createElement(ie.a,{title:"Settings"},r.a.createElement(T.a,{"aria-label":"edit ".concat(e.quizName),component:h.b,to:"/editQuiz/".concat(e._id)},r.a.createElement(be.a,{className:"enroll-icon"})))}))})))):r.a.createElement("div",{className:"history-section"},0===i.quizzesGiven.length?r.a.createElement("p",{style:{textAlign:"center"}},"You have not given any quizzes yet!"):r.a.createElement(ue.a,{"aria-label":"quiz display",className:"owner-quiz-list"},p.map((function(e){return null!==e.quizId?r.a.createElement(me.a,{button:!0,className:"owner-quiz-item",component:h.b,key:e._id,to:"/results/".concat(e.quizId._id)},r.a.createElement(pe.a,{primary:e.quizId.quizName,secondary:"Scored: ".concat(e.marks)}),r.a.createElement(de.a,null,r.a.createElement(T.a,{edge:"end","aria-label":"details",component:h.b,to:"/results/".concat(e.quizId._id)},r.a.createElement(he.a,null)))):null}))))})),ge=(a(270),a(458)),ve=a(459),Oe=a(460),je=a(461),Ne=a(462);var ye=Object(ce.a)()((function(e){var t=Object(n.useState)(!0),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(e.type),i=Object(o.a)(s,2),f=i[0],E=(i[1],Object(n.useState)(e.profile)),g=Object(o.a)(E,2),v=g[0],O=(g[1],Object(n.useState)([])),j=Object(o.a)(O,2),N=j[0],S=j[1],k=Object(n.useState)([]),z=Object(o.a)(k,2),C=z[0],P=z[1],A=Object(n.useState)(!1),Q=Object(o.a)(A,2),_=Q[0],L=Q[1],R=Object(n.useState)(""),F=Object(o.a)(R,2),W=F[0],H=F[1],M=Object(n.useState)(!1),B=Object(o.a)(M,2),Y=B[0],K=B[1],G=Object(n.useState)(!1),V=Object(o.a)(G,2),J=V[0],X=V[1],$=Object(n.useState)(""),ee=Object(o.a)($,2),te=ee[0],ae=ee[1],re=Object(n.useState)(""),ue=Object(o.a)(re,2),me=ue[0],pe=ue[1],de=Object(n.useState)(!1),be=Object(o.a)(de,2),he=be[0],Ee=be[1],ye=Object(n.useState)(!1),Se=Object(o.a)(ye,2),xe=Se[0],ke=Se[1],ze=Object(n.useState)(!1),qe=Object(o.a)(ze,2),we=qe[0],Ce=qe[1],Te=Object(n.useState)(!1),Ie=Object(o.a)(Te,2),Pe=Ie[0],Ae=Ie[1],De=Object(n.useState)(!1),Qe=Object(o.a)(De,2),_e=Qe[0],Le=Qe[1],Re=Object(n.useState)({}),Ue=Object(o.a)(Re,2),Fe=Ue[0],We=Ue[1],He=Object(n.useState)(""),Me=Object(o.a)(He,2),Be=Me[0],Ye=Me[1],Ke=Object(n.useState)(!1),Ge=Object(o.a)(Ke,2),Ve=Ge[0],Je=Ge[1],Ze=Object(n.useState)(!1),Xe=Object(o.a)(Ze,2),$e=Xe[0],et=Xe[1],tt=Object(n.useState)(""),at=Object(o.a)(tt,2),nt=(at[0],at[1]),rt=Object(n.useState)({}),ct=Object(o.a)(rt,2),lt=ct[0],ot=ct[1],st=Object(n.useState)(!1),it=Object(o.a)(st,2),ut=it[0],mt=it[1],pt=Object(n.useState)(!1),dt=Object(o.a)(pt,2),bt=dt[0],ht=dt[1],ft=Object(n.useState)(!1),Et=Object(o.a)(ft,2),gt=Et[0],vt=Et[1],Ot=Object(n.useState)(!1),jt=Object(o.a)(Ot,2),Nt=jt[0],yt=jt[1],St=Object(n.useState)(!1),xt=Object(o.a)(St,2),kt=xt[0],zt=xt[1],qt=e.refresh,wt=Object(U.b)().executeRecaptcha,Ct=function(){return Object(ce.c)("md",e.width)?3:2},Tt=function(){L(!1),Ae(!1),Je(!1),H(""),K(!1),X(!1),ae(""),pe(""),Ye(""),We({})},It=function(){var e=Object(w.a)(q.a.mark((function e(t){var a,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Le(!0),a=localStorage.getItem("authToken"),n="http://psmcq.online/quiz/".concat(t),e.prev=3,e.next=6,y.a.get(n,{headers:{"auth-token":a}}).then((function(e){We(e.data.result),Le(!1)}));case 6:e.next=13;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0),Tt(),Le(!1);case 13:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),Pt=function(){var e=Object(w.a)(q.a.mark((function e(){var t,a,n,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==W.trim().length){e.next=3;break}return K(!0),e.abrupt("return");case 3:return K(!1),Ee(!0),t="http://psmcq.online/quiz/enrollPrivate",a=localStorage.getItem("authToken"),e.next=9,wt("join_private");case 9:return n=e.sent,r={quizCode:W,captcha:n},e.prev=11,e.next=14,y.a.patch(t,r,{headers:{"auth-token":a}}).then((function(e){qt(!0),Tt(),ke(!0)}));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(11),Ee(!1),404===e.t0.response.status?yt(!0):409===e.t0.response.status?zt(!0):Ce(!0);case 20:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(){return e.apply(this,arguments)}}(),At=function(){var e=Object(w.a)(q.a.mark((function e(){var t,a,n,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ee(!0),t=localStorage.getItem("authToken"),a="http://psmcq.online/quiz/enroll",e.next=5,wt("quiz_enroll");case 5:return n=e.sent,r={quizId:me,captcha:n},e.prev=7,e.next=10,y.a.patch(a,r,{headers:{"auth-token":t}}).then((function(e){qt(!0),Tt(),ke(!0)}));case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(7),console.log(e.t0),Ce(!0);case 16:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(){return e.apply(this,arguments)}}(),Dt=function(){var e=Object(w.a)(q.a.mark((function e(){var t,a,n,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ee(!0),t=localStorage.getItem("authToken"),a="http://psmcq.online/quiz/unenroll",e.next=5,wt("quiz_unenroll");case 5:return n=e.sent,r={quizId:Fe._id,captcha:n},e.prev=7,e.next=10,y.a.patch(a,r,{headers:{"auth-token":t}}).then((function(e){qt(!0)}));case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(7),console.log(e.t0),Ce(!0);case 16:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(){return e.apply(this,arguments)}}(),Qt=function(){var e=Object(w.a)(q.a.mark((function e(){var t,a,n,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ee(!0),t=localStorage.getItem("authToken"),a="http://psmcq.online/quiz/start",e.next=5,wt("quiz_start");case 5:return n=e.sent,r={quizId:me,captcha:n},e.prev=7,e.next=10,y.a.patch(a,r,{headers:{"auth-token":t}}).then((function(e){nt(r.quizId),ot(e.data),et(!0)}));case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(7),Ee(!1),401===e.t0.response.status?mt(!0):402===e.t0.response.status?ht(!0):405===e.t0.response.status&&vt(!0);case 16:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(){return e.apply(this,arguments)}}(),_t=function(){var e=Object(w.a)(q.a.mark((function e(){var t,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),t=localStorage.getItem("authToken"),"http://psmcq.online/quiz/all",a=[],e.prev=4,e.next=7,y.a.get("http://psmcq.online/quiz/all",{headers:{"auth-token":t}}).then((function(e){e.data.result.map((function(e){"public"===e.quizType&&("user"===f&&v.quizzesEnrolled.find((function(t){return t.quizId._id===e._id}))||a.push(e))})),a.sort((function(e,t){return e.scheduledFor-t.scheduledFor})),S(a),l(!1)}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){Pe&&(Fe.scheduledFor<=Date.now()?Ye("Already Started!"):setTimeout((function(){Ye(Z()(new Date,new Date(Number(Fe.scheduledFor))).toString())}),1e3))})),Object(n.useEffect)((function(){"user"===f&&function(){var e=[];v.quizzesEnrolled.map((function(t){v.quizzesGiven.find((function(e){return e.quizId===t.quizId._id}))||e.push(t)})),P(e)}(),_t()}),[]),c?r.a.createElement(fe,null):$e?r.a.createElement(b.a,{to:{pathname:"/quiz",state:{questions:lt.data,duration:lt.duration,start:lt.scheduledFor,id:me,timeStarted:Date.now(),restartStatus:lt.quizRestart}}}):r.a.createElement("div",{className:"quizzes-section"},r.a.createElement("div",{className:"quiz-btn-section"},"user"===f?r.a.createElement(m.a,{className:"join-quiz-btn",onClick:function(){L(!0)}},r.a.createElement(ge.a,null),"Join a Quiz"):null,"admin"===f?r.a.createElement(m.a,{className:"create-quiz-btn",component:h.b,to:"/createQuiz"},r.a.createElement(ve.a,null),"Create a quiz"):null),"user"===f?r.a.createElement("div",{className:"enrolled-list"},r.a.createElement(u.a,{variant:"h5",className:"up-quizzes"},"Enrolled Quizzes"),0===C.length?r.a.createElement("p",{style:{textAlign:"center"}},"Sorry! No quizzes available at the moment!"):r.a.createElement("div",{className:"quiz-list root1"},r.a.createElement(le.a,{cols:Ct(),className:"grid-list btn-set"},C.map((function(e){return r.a.createElement(oe.a,{key:e._id,className:"quiz-tile"},r.a.createElement("img",{src:"../CC LOGO-01.svg"}),r.a.createElement(se.a,{title:e.quizId.quizName,actionIcon:r.a.createElement("div",{className:"inline"},r.a.createElement(ie.a,{title:"Start Quiz"},r.a.createElement(T.a,{"aria-label":"start ".concat(e.quizId.quizName),onClick:function(){return function(e){ae(e.quizId.quizName),pe(e.quizId._id),Je(!0)}(e)}},r.a.createElement(Oe.a,{className:"enroll-icon"}))),r.a.createElement(ie.a,{title:"Info"},r.a.createElement(T.a,{"aria-label":"info ".concat(e.quizId.quizName),onClick:function(){return function(e){Ae(!0),It(e.quizId._id)}(e)}},r.a.createElement(je.a,{className:"enroll-icon"}))))}))}))))):null,r.a.createElement(u.a,{variant:"h5",className:"up-quizzes"},"Upcoming Quizzes"),0===N.length?r.a.createElement("p",{style:{textAlign:"center"}},"Sorry! No quizzes available at the moment!"):r.a.createElement("div",{className:"quiz-list root1"},r.a.createElement(le.a,{cols:Ct(),className:"grid-list"},N.map((function(e){return r.a.createElement(oe.a,{key:e._id,className:"quiz-tile"},r.a.createElement("img",{src:"../CC LOGO-01.svg"}),r.a.createElement(se.a,{title:e.quizName,subtitle:"By: ".concat(e.adminId.name),actionIcon:"user"===f?r.a.createElement(ie.a,{title:"Enroll"},r.a.createElement(T.a,{"aria-label":"enroll ".concat(e.quizName),onClick:function(){return function(e){ae(e.quizName),pe(e._id),X(!0)}(e)}},r.a.createElement(ge.a,{className:"enroll-icon"}))):null}))})))),r.a.createElement(p.a,{open:_,onClose:Tt,"aria-labelledby":"join-quiz-modal",PaperProps:{style:{backgroundColor:"white",color:"#333",minWidth:"30%"}},style:{width:"100%"}},r.a.createElement("div",{className:"modal-info"},"admin"===f?r.a.createElement(u.a,{variant:"h6",className:"type-head join-sub"},"Organizers cannot enroll in quizzes."):r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(u.a,{variant:"h5",className:"type-head"},"JOIN A PRIVATE QUIZ"),r.a.createElement(u.a,{variant:"h6",className:"type-head join-sub"},"Enter the code of the quiz you want to join"),r.a.createElement(D,{error:Y,helperText:Y?"Required":null,label:"Quiz Code",variant:"outlined",value:W,onChange:function(e){H(e.target.value)},className:"quiz-code-field"}),r.a.createElement(m.a,{className:"join-quiz-btn join-modal-btn",onClick:Pt},"Join!")))),r.a.createElement(p.a,{open:J,onClose:Tt,"aria-labelledby":"enroll-quiz-modal",PaperProps:{style:{backgroundColor:"white",color:"#333",minWidth:"30%"}},style:{width:"100%"}},r.a.createElement("div",{className:"modal-info"},"admin"===f?r.a.createElement(u.a,{variant:"h6",className:"type-head join-sub"},"Organizers cannot enroll in quizzes."):r.a.createElement("div",null,r.a.createElement(u.a,{variant:"h6",className:"type-head join-sub"},"Are you sure you want to join ".concat(te,"?")),r.a.createElement("div",{className:"btn-div m-top"},r.a.createElement(m.a,{className:"logout-btn m-right",onClick:At},"Yes"),r.a.createElement(m.a,{className:"cancel-btn m-left",onClick:Tt},"No"))))),r.a.createElement(p.a,{open:Ve,onClose:Tt,"aria-labelledby":"start-quiz-modal",PaperProps:{style:{backgroundColor:"white",color:"#333",minWidth:"30%"}},style:{width:"100%"}},r.a.createElement("div",{className:"modal-info"},r.a.createElement("div",null,r.a.createElement(u.a,{variant:"h6",className:"type-head join-sub"},"Are you sure you want to start ".concat(te,"?")),r.a.createElement("div",{className:"btn-div m-top2 start-div"},r.a.createElement(m.a,{className:"logout-btn m-right",onClick:Qt},"Yes"),r.a.createElement(m.a,{className:"cancel-btn m-left",onClick:Tt},"No"))))),r.a.createElement(p.a,{open:Pe,onClose:Tt,"aria-labelledby":"info-quiz-modal",PaperProps:{style:{backgroundColor:"white",color:"#333",minWidth:Object(ce.c)("sm",e.width)?"45%":"80%",maxHeight:"45%"}},style:{width:"100%"}},r.a.createElement(d.a,{style:{textAlign:"center",fontWeight:"bold"}},"Quiz Info"),_e?r.a.createElement(x,null):r.a.createElement("div",{className:"modal-info no-p-top",style:{textAlign:"center"}},r.a.createElement(u.a,{variant:"h6",className:"profile-param info-param"},"Name: ",r.a.createElement("span",{className:"profile-data"},Fe.quizName)),r.a.createElement(u.a,{variant:"h6",className:"profile-param info-param"},"Date:"," ",r.a.createElement("span",{className:"profile-data"},new Date(Number(Fe.scheduledFor)).toDateString())),r.a.createElement(u.a,{variant:"h6",className:"profile-param info-param"},"Time:"," ",r.a.createElement("span",{className:"profile-data"},new Date(Number(Fe.scheduledFor)).toLocaleTimeString())),r.a.createElement("div",{className:"time-sec"},r.a.createElement(u.a,{variant:"h6",className:"profile-param info-param"},r.a.createElement("span",{className:"profile-data time-rem"},Be))),r.a.createElement(m.a,{className:"unenroll-btn",onClick:Dt},r.a.createElement(Ne.a,{style:{color:"white"}}),"Unenroll"))),r.a.createElement(ne.a,{open:xe,autoHideDuration:2e3,onClose:function(){return ke(!1)}},r.a.createElement(I.a,{variant:"filled",severity:"success",onClose:function(){return ke(!1)}},"Successfully Enrolled!")),r.a.createElement(ne.a,{open:we,autoHideDuration:2e3,onClose:function(){return Ce(!1)}},r.a.createElement(I.a,{variant:"filled",severity:"error",onClose:function(){return Ce(!1)}},"There was some error. Please try again!")),r.a.createElement(ne.a,{open:he,autoHideDuration:5e3,onClose:function(){return Ee(!1)}},r.a.createElement(I.a,{variant:"filled",severity:"info",onClose:function(){return Ce(!1)}},"Processing... Please Wait!")),r.a.createElement(ne.a,{open:ut,autoHideDuration:5e3,onClose:function(){return mt(!1)}},r.a.createElement(I.a,{variant:"filled",severity:"error",onClose:function(){return mt(!1)}},"The quiz has not yet started!")),r.a.createElement(ne.a,{open:bt,autoHideDuration:5e3,onClose:function(){return ht(!1)}},r.a.createElement(I.a,{variant:"filled",severity:"error",onClose:function(){return ht(!1)}},"This quiz has ended!")),r.a.createElement(ne.a,{open:gt,autoHideDuration:5e3,onClose:function(){return vt(!1)}},r.a.createElement(I.a,{variant:"filled",severity:"error",onClose:function(){return vt(!1)}},"Already given this quiz!")),r.a.createElement(ne.a,{open:Nt,autoHideDuration:5e3,onClose:function(){return yt(!1)}},r.a.createElement(I.a,{variant:"filled",severity:"error",onClose:function(){return yt(!1)}},"This quiz code does not exists!")),r.a.createElement(ne.a,{open:kt,autoHideDuration:5e3,onClose:function(){return zt(!1)}},r.a.createElement(I.a,{variant:"filled",severity:"error",onClose:function(){return zt(!1)}},"Already enrolled in this quiz!")))}));function Se(e){return r.a.createElement("div",{role:"tabpanel",hidden:e.value!==e.index,id:"simple-tabpanel-".concat(e.index),"aria-labelledby":"simple-tab-".concat(e.index)},r.a.createElement("div",null,e.children))}var xe=function(e){var t=Object(n.useState)(0),a=Object(o.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(!1),m=Object(o.a)(i,2),p=m[0],d=m[1],h=Object(n.useState)(!1),E=Object(o.a)(h,2),v=E[0],O=E[1],j=Object(n.useState)(null),N=Object(o.a)(j,2),S=N[0],k=N[1],z=Object(n.useState)(null),C=Object(o.a)(z,2),T=C[0],P=C[1],A=Object(n.useState)(!0),D=Object(o.a)(A,2),Q=D[0],_=D[1],L=Object(n.useState)(!1),R=Object(o.a)(L,2),U=R[0],F=R[1],W=Object(n.useState)(!1),H=Object(o.a)(W,2),M=H[0],B=H[1],Y=Object(n.useState)(!1),K=Object(o.a)(Y,2),G=K[0],V=K[1],J=Object(n.useState)(!1),Z=Object(o.a)(J,2),X=Z[0],$=Z[1],ee=Object(n.useContext)(f).isLoggedIn,ce=function(){var e=Object(w.a)(q.a.mark((function e(){var t,a,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(!0),t="http://psmcq.online/general/checkUser",null!==(a=localStorage.getItem("authToken"))){e.next=6;break}return d(!0),e.abrupt("return");case 6:return n=null,e.prev=7,e.next=10,y.a.get(t,{headers:{"auth-token":a}}).then((function(e){var t=e.data.result.userType;"User"===t?n="user":"Admin"===t?n="admin":"Owner"===t&&(n="owner",O(!0)),k(n)}));case 10:e.next=18;break;case 12:return e.prev=12,e.t0=e.catch(7),console.log(e.t0),localStorage.clear(),d(!0),e.abrupt("return");case 18:if("owner"!==n){e.next=20;break}return e.abrupt("return");case 20:return t="http://psmcq.online/".concat(n,"/"),e.prev=21,e.next=24,y.a.get(t,{headers:{"auth-token":a}}).then((function(e){P(e.data.result1),_(!1)}));case 24:e.next=32;break;case 26:return e.prev=26,e.t1=e.catch(21),console.log(e.t1),localStorage.clear(),d(!0),e.abrupt("return");case 32:case"end":return e.stop()}}),e,null,[[7,12],[21,26]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){ee?ce():d(!0)}),[]),Object(n.useEffect)((function(){!0===U&&(ce(),F(!1))}),[U]),Object(n.useEffect)((function(){0!==Object.keys(e).length&&void 0!==e.location.state&&(e.location.state.blocked?B(!0):e.location.state.timeUp?V(!0):e.location.state.emptyQuiz&&$(!0))}),[]),p?r.a.createElement(b.a,{to:"/"}):v?r.a.createElement(b.a,{to:"/coronilOP"}):Q?r.a.createElement(x,null):r.a.createElement(g.a,{className:"dashboard-page"},r.a.createElement(u.a,{variant:"h4",className:"dash-head"},"user"===S?"Dashboard":"Organizer's Dashboard"),r.a.createElement("div",{className:"dash-section"},r.a.createElement(s.a,{position:"static",color:"default",className:"bg-white tab-bar"},r.a.createElement(te.a,{value:c,onChange:function(e,t){l(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs dashboard"},r.a.createElement(ae.a,{label:"Quizzes"}),r.a.createElement(ae.a,{label:"admin"===S?"Your Quizzes":"History"}),r.a.createElement(ae.a,{label:"Profile"}))),r.a.createElement(Se,{value:c,index:0},r.a.createElement(ye,{type:S,profile:T,refresh:F})),r.a.createElement(Se,{value:c,index:1},r.a.createElement(Ee,{profile:T,type:S})),r.a.createElement(Se,{value:c,index:2},r.a.createElement(re,{profile:T,type:S}))),r.a.createElement(ne.a,{open:M,autoHideDuration:5e3,onClose:function(){return B(!1)}},r.a.createElement(I.a,{variant:"filled",severity:"error",onClose:function(){return B(!1)}},"You violated the quiz rules!")),r.a.createElement(ne.a,{open:G,autoHideDuration:5e3,onClose:function(){return V(!1)}},r.a.createElement(I.a,{variant:"filled",severity:"error",onClose:function(){return V(!1)}},"Time's Up! Your quiz was not submitted!")),r.a.createElement(ne.a,{open:X,autoHideDuration:5e3,onClose:function(){return $(!1)}},r.a.createElement(I.a,{variant:"filled",severity:"error",onClose:function(){return $(!1)}},"There are no questions in the quiz.")))},ke=(a(175),a(494)),ze=a(480),qe=a(466),we=a(29),Ce=a(464),Te=a(488),Ie=a(117),Pe=a(465);var Ae=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(new Date),s=Object(o.a)(l,2),i=s[0],p=s[1],d=Object(n.useState)(5),h=Object(o.a)(d,2),f=h[0],E=h[1],O=Object(n.useState)("private"),j=Object(o.a)(O,2),N=j[0],S=j[1],k=Object(n.useState)(!1),z=Object(o.a)(k,2),C=z[0],T=z[1],P=Object(n.useState)(!1),A=Object(o.a)(P,2),Q=A[0],_=A[1],L=Object(n.useState)(!1),R=Object(o.a)(L,2),F=R[0],W=R[1],H=Object(n.useState)(""),M=Object(o.a)(H,2),B=M[0],Y=M[1],K=Object(n.useState)(!1),G=Object(o.a)(K,2),V=G[0],J=G[1],Z=Object(U.b)().executeRecaptcha,X=function(e){p(e)},$=function(){var e=Object(w.a)(q.a.mark((function e(){var t,n,r,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),t=localStorage.getItem("authToken"),n="http://psmcq.online/quiz/createQuiz",e.next=5,Z("create_quiz");case 5:return r=e.sent,c={quizName:a,scheduledFor:i.getTime(),quizDuration:f,quizType:N,captcha:r},e.prev=7,e.next=10,y.a.post(n,c,{headers:{"auth-token":t}}).then((function(e){Y(e.data.result._id),T(!1),W(!0)}));case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(7),console.log(e.t0),T(!1);case 16:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){if(null===localStorage.getItem("authToken"))return T(!1),void _(!0)}),[]),C?r.a.createElement(x,null):Q?r.a.createElement(b.a,{to:"/dashboard"}):F?r.a.createElement(b.a,{to:"/editQuiz/".concat(B)}):r.a.createElement(g.a,{className:"create-quiz-page"},r.a.createElement("div",{className:"create-form"},r.a.createElement(u.a,{variant:"h4",className:"create-head"},"Quiz Details"),r.a.createElement("div",{className:"create-form-inputs"},r.a.createElement(D,{variant:"outlined",label:"Quiz Name",value:a,onChange:function(e){c(e.target.value)},name:"Quiz Name",className:"form-input"}),r.a.createElement(we.a,{utils:Ie.a},r.a.createElement(v.a,{className:"date-time-select",container:!0,spacing:3},r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(Ce.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",label:"Select Quiz Date",value:i,onChange:X})),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(Te.a,{ampm:!0,format:"hh:mm:ss aa",views:["hours","minutes","seconds"],margin:"normal",label:"Select Quiz Start Time",value:i,onChange:X,keyboardIcon:r.a.createElement(Pe.a,null)})))),r.a.createElement("p",{style:{marginTop:"5%",marginBottom:"5%"}},"Quiz Time (in minutes):"),r.a.createElement(ke.a,{defaultValue:5,"aria-labelledby":"quiz time slider",step:5,min:5,max:60,valueLabelDisplay:"on",marks:!0,className:"time-slider",value:f,onChange:function(e,t){E(t)}}),r.a.createElement("p",null,"Select quiz type: "),r.a.createElement(ze.a,{value:N,onChange:function(e){S(e.target.value)},className:"type-select"},r.a.createElement(qe.a,{value:"public"},"Public"),r.a.createElement(qe.a,{value:"private"},"Private")),r.a.createElement(m.a,{className:"login-btn create-btn",onClick:$},"Create Quiz"),r.a.createElement(u.a,{variant:"subtitle1",className:"create-subtitle"},"NOTE: After creating the quiz, you can add questions by editing the quiz in YOUR QUIZZES section of the dashboard."))),r.a.createElement(ne.a,{open:V,autoHideDuration:5e3,onClose:function(){return J(!1)}},r.a.createElement(I.a,{variant:"filled",severity:"error",onClose:function(){return J(!1)}},"There was a problem. Please try again!")))},De=(a(176),a(486)),Qe=a(470),_e=a(472),Le=a(473),Re=a(445),Ue=a(446),Fe=a(467),We=a(468),He=a(469),Me=a(471),Be=a(474),Ye=a(475),Ke=a(476),Ge=a(210),Ve=a(208),Je=a.n(Ve);var Ze=function(e){var t=e.match.params.id,a=Object(n.useState)(!0),c=Object(o.a)(a,2),l=c[0],s=c[1],i=Object(n.useState)(!1),f=Object(o.a)(i,2),E=f[0],O=f[1],j=Object(n.useState)({}),N=Object(o.a)(j,2),S=N[0],k=N[1],z=Object(n.useState)([]),C=Object(o.a)(z,2),P=C[0],Q=C[1],_=Object(n.useState)(!1),L=Object(o.a)(_,2),R=L[0],F=L[1],W=Object(n.useState)(!1),H=Object(o.a)(W,2),M=H[0],B=H[1],K=Object(n.useState)(null),G=Object(o.a)(K,2),V=G[0],J=G[1],Z=Boolean(V),X=Object(n.useState)(!1),$=Object(o.a)(X,2),ee=$[0],te=$[1],ae=Object(n.useState)(""),re=Object(o.a)(ae,2),ce=re[0],le=re[1],oe=Object(n.useState)(!1),se=Object(o.a)(oe,2),ie=se[0],de=se[1],be=Object(n.useState)(""),he=Object(o.a)(be,2),fe=he[0],Ee=he[1],ge=Object(n.useState)(!1),ve=Object(o.a)(ge,2),Oe=ve[0],Ne=ve[1],ye=Object(n.useState)(""),Se=Object(o.a)(ye,2),xe=Se[0],ke=Se[1],we=Object(n.useState)(!1),Ce=Object(o.a)(we,2),Te=Ce[0],Ie=Ce[1],Pe=Object(n.useState)(""),Ae=Object(o.a)(Pe,2),Ve=Ae[0],Ze=Ae[1],Xe=Object(n.useState)(!1),$e=Object(o.a)(Xe,2),et=$e[0],tt=$e[1],at=Object(n.useState)(""),nt=Object(o.a)(at,2),rt=nt[0],ct=nt[1],lt=Object(n.useState)(!1),ot=Object(o.a)(lt,2),st=ot[0],it=ot[1],ut=Object(n.useState)(-1),mt=Object(o.a)(ut,2),pt=mt[0],dt=mt[1],bt=Object(n.useState)(!1),ht=Object(o.a)(bt,2),ft=ht[0],Et=ht[1],gt=Object(n.useState)(!1),vt=Object(o.a)(gt,2),Ot=vt[0],jt=vt[1],Nt=Object(n.useState)(null),yt=Object(o.a)(Nt,2),St=yt[0],xt=yt[1],kt=Object(n.useState)(!1),zt=Object(o.a)(kt,2),qt=zt[0],wt=zt[1],Ct=Object(n.useState)(!1),Tt=Object(o.a)(Ct,2),It=Tt[0],Pt=Tt[1],At=Object(n.useState)(!1),Dt=Object(o.a)(At,2),Qt=Dt[0],_t=Dt[1],Lt=Object(n.useState)(!1),Rt=Object(o.a)(Lt,2),Ut=Rt[0],Ft=Rt[1],Wt=Object(n.useState)([]),Ht=Object(o.a)(Wt,2),Mt=Ht[0],Bt=Ht[1],Yt=Object(n.useState)(Mt),Kt=Object(o.a)(Yt,2),Gt=Kt[0],Vt=Kt[1],Jt=Object(n.useState)(""),Zt=Object(o.a)(Jt,2),Xt=Zt[0],$t=Zt[1],ea=Object(n.useState)(-1),ta=Object(o.a)(ea,2),aa=ta[0],na=ta[1],ra=Object(U.b)().executeRecaptcha,ca=function(){te(!1),Ot&&(jt(!1),xt(null),la())},la=function(){le(""),de(!1),Ee(""),Ne(!1),ke(""),Ie(!1),Ze(""),tt(!1),ct(""),it(!1),dt(-1),Et(!1)},oa=function(){var e=Object(w.a)(q.a.mark((function e(t){var a,n,r,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),a=localStorage.getItem("authToken"),n="http://psmcq.online/question/csv",e.next=5,ra("submit_csv");case 5:return r=e.sent,c={questions:t,captcha:r},e.prev=7,e.next=10,y.a.post(n,c,{headers:{"auth-token":a}}).then((function(e){console.log(e),s(!1),la(),ca(),ga()}));case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(7),B(!0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(t){return e.apply(this,arguments)}}(),sa=function(e,t){return"score"===e?t.sort((function(e,t){return t.marks-e.marks})):"name"===e?t.sort((function(e,t){return e.userId.name-t.userId.name})):"recent"===e?t.sort((function(e,t){return t.timeEnded-e.timeEnded})):t},ia=function(){var e=Object(w.a)(q.a.mark((function e(){var a,n,r,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("authToken"),n="http://psmcq.online/quiz/restart",e.next=4,ra("restart_quiz");case 4:return r=e.sent,c={quizId:t,captcha:r},e.prev=6,e.next=9,y.a.patch(n,c,{headers:{"auth-token":a}}).then((function(e){_t(!1),ga()}));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[6,11]])})));return function(){return e.apply(this,arguments)}}(),ua=function(){var e=Object(w.a)(q.a.mark((function e(){var a,n,r,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("authToken"),n="http://psmcq.online/quiz/close",e.next=4,ra("quiz_close");case 4:return r=e.sent,c={quizId:t,captcha:r},e.prev=6,e.next=9,y.a.patch(n,c,{headers:{"auth-token":a}}).then((function(e){Ft(!1),ga()}));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[6,11]])})));return function(){return e.apply(this,arguments)}}(),ma=function(){xt(null),Pt(!1)},pa=function(){var e=Object(w.a)(q.a.mark((function e(){var t,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("authToken"),a="http://psmcq.online/".concat(St),e.prev=2,e.next=5,y.a.delete(a,{headers:{"auth-token":t}}).then((function(e){xt(null),Pt(!1),ga()}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),da=function(){var e=Object(w.a)(q.a.mark((function e(){var a,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("authToken"),"http://psmcq.online/quiz/delete",n={quizId:t},e.prev=3,e.next=6,y.a.delete("http://psmcq.online/quiz/delete",{headers:{"auth-token":a},data:n}).then((function(e){O(!0)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}(),ba=function(){var e=Object(w.a)(q.a.mark((function e(){var t,a,n,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ha()){e.next=2;break}return e.abrupt("return");case 2:return t=localStorage.getItem("authToken"),a="http://psmcq.online/question/update/".concat(St),e.next=6,ra("question_update");case 6:return n=e.sent,r={updateOps:[{propName:"description",value:ce},{propName:"options",value:[{text:fe},{text:xe},{text:Ve},{text:rt}]},{propName:"correctAnswer",value:pt}],captcha:n},e.prev=9,e.next=12,y.a.patch(a,r,{headers:{"auth-token":t}}).then((function(e){ca(),ga()}));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(){return e.apply(this,arguments)}}(),ha=function(){return 0===ce.trim().length?(de(!0),!1):0===fe.trim().length?(Ne(!0),!1):0===xe.trim().length?(Ie(!0),!1):0===Ve.trim().length?(tt(!0),!1):0===rt.trim().length?(it(!0),!1):-1!==pt||(Et(!0),!1)},fa=function(){var e=Object(w.a)(q.a.mark((function e(){var a,n,r,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ha()){e.next=2;break}return e.abrupt("return");case 2:return a=localStorage.getItem("authToken"),n="http://psmcq.online/question/add",e.next=6,ra("submit_question");case 6:return r=e.sent,c={quizId:t,description:ce,options:[{text:fe},{text:xe},{text:Ve},{text:rt}],correctAnswer:pt,captcha:r},e.prev=9,e.next=12,y.a.post(n,c,{headers:{"auth-token":a}}).then((function(e){la(),ga(),te(!1)}));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(){return e.apply(this,arguments)}}(),Ea=function(){var e=Object(w.a)(q.a.mark((function e(){var a,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("authToken"),n="http://psmcq.online/quiz/checkAdmin/".concat(t),e.prev=2,e.next=5,y.a.get(n,{headers:{"auth-token":a}}).then((function(e){return!0}));case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(2),O(!0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),ga=function(){var e=Object(w.a)(q.a.mark((function e(){var a,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),a=localStorage.getItem("authToken"),n="http://psmcq.online/quiz/".concat(t),e.prev=3,e.next=6,y.a.get(n,{headers:{"auth-token":a}}).then((function(e){k(e.data.result)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0);case 11:return n="http://psmcq.online/question/all/".concat(t),e.prev=12,e.next=15,y.a.get(n,{headers:{"auth-token":a}}).then((function(e){Q(e.data.result)}));case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(12),console.log(e.t1);case 20:return n="http://psmcq.online/admin/allStudentsQuizResult/".concat(t),e.prev=21,e.next=24,y.a.get(n,{headers:{"auth-token":a}}).then((function(e){Bt(e.data.userResults),Vt(e.data.userResults),s(!1)}));case 24:e.next=29;break;case 26:e.prev=26,e.t2=e.catch(21),console.log(e.t2);case 29:case"end":return e.stop()}}),e,null,[[3,8],[12,17],[21,26]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){if(null===localStorage.getItem("authToken"))return s(!1),void O(!0);Ea(),ga()}),[]),l?r.a.createElement(x,null):E?r.a.createElement(b.a,{to:"/dashboard"}):r.a.createElement(g.a,{className:"edit-quiz-page"},r.a.createElement(u.a,{variant:"h3",className:"dash-head p-top edit-quiz-head"},"Edit Quiz"),r.a.createElement("div",{className:"edit-btn-bar"},r.a.createElement(m.a,{className:"edit-details-btn",component:h.b,to:"/updateQuizDetails/".concat(t)},r.a.createElement(Fe.a,{className:"edit-icon"}),"Edit Details"),r.a.createElement(m.a,{className:"edit-details-btn delete-btn",onClick:function(){wt(!0)}},r.a.createElement(We.a,{className:"edit-icon"}),"Delete Quiz"),1===S.quizStatus?r.a.createElement(m.a,{className:"edit-details-btn",style:{marginLeft:"3%"},onClick:function(){return Ft(!0)}},r.a.createElement(He.a,{className:"edit-quiz"}),"Close Quiz"):2===S.quizStatus?r.a.createElement(m.a,{className:"edit-details-btn",style:{marginLeft:"3%"},onClick:function(){return _t(!0)}},r.a.createElement(He.a,{className:"edit-quiz"}),"Restart Quiz"):null),r.a.createElement("div",{className:"quiz-details-sec"},r.a.createElement(u.a,{variant:"h6",className:"quiz-detail-param"},"Name:"," ",r.a.createElement("span",{className:"quiz-detail-text"},S.quizName)),r.a.createElement(u.a,{variant:"h6",className:"quiz-detail-param"},"Date:"," ",r.a.createElement("span",{className:"quiz-detail-text"},new Date(Number(S.scheduledFor)).toDateString())),r.a.createElement(u.a,{variant:"h6",className:"quiz-detail-param"},"Time:"," ",r.a.createElement("span",{className:"quiz-detail-text"},new Date(Number(S.scheduledFor)).toLocaleTimeString())),r.a.createElement(u.a,{variant:"h6",className:"quiz-detail-param"},"Duration:"," ",r.a.createElement("span",{className:"quiz-detail-text"},S.quizDuration," minutes")),r.a.createElement(u.a,{variant:"h6",className:"quiz-detail-param"},"Type:"," ",r.a.createElement("span",{className:"quiz-detail-text"},S.quizType)),"private"===S.quizType?r.a.createElement(u.a,{variant:"h6",className:"quiz-detail-param"},"Quiz Code:"," ",r.a.createElement("span",{className:"quiz-detail-text"},S.quizCode)):null),r.a.createElement("div",{className:"quiz-questions-sec"},r.a.createElement(u.a,{variant:"h4",className:"quiz-questions-head"},"Questions"),r.a.createElement("div",{className:"quiz-questions-display"},r.a.createElement("div",{className:"add-question-bar"},r.a.createElement(m.a,{className:"add-question-btn",onClick:function(){return te(!0)}},"Add a question")),0===P.length?r.a.createElement("p",{style:{textAlign:"center"}},"No questions added yet!"):r.a.createElement("div",{className:"questions-list-display"},P.map((function(e){return r.a.createElement(De.a,{elevation:3,className:"expansion",key:e._id},r.a.createElement(Qe.a,{className:"question-summary",expandIcon:r.a.createElement(Me.a,null),"aria-controls":"question-content","aria-label":"Expand"},r.a.createElement(Y.a,{style:{marginRight:"0"},"aria-label":"Edit",control:r.a.createElement(T.a,null,r.a.createElement(Fe.a,null)),onClick:function(){return function(e){jt(!0),xt(e._id),le(e.description),Ee(e.options[0].text),ke(e.options[1].text),Ze(e.options[2].text),ct(e.options[3].text),dt(e.correctAnswer),te(!0)}(e)}}),r.a.createElement(Y.a,{"aria-label":"Edit",control:r.a.createElement(T.a,null,r.a.createElement(We.a,null)),onClick:function(){return function(e){xt(e._id),Pt(!0)}(e)}}),r.a.createElement(u.a,{className:"question-label"},e.description)),r.a.createElement(_e.a,null,r.a.createElement(ue.a,{component:"nav",className:"options-display"},e.options.map((function(t){return r.a.createElement(me.a,{button:!0,key:t._id},r.a.createElement(Le.a,null,r.a.createElement(Be.a,{style:{color:e.correctAnswer===t.text?"green":"black"}})),r.a.createElement(pe.a,{style:{color:e.correctAnswer===t.text?"green":"black"},primary:t.text}))})))))})))),r.a.createElement(u.a,{variant:"h4",className:"quiz-questions-head m-top"},"Submissions"),r.a.createElement("div",{className:"quiz-students-list"},r.a.createElement("div",{className:"add-question-bar"},r.a.createElement(m.a,{className:"add-question-btn stats-btn",component:0!==Mt.length?h.b:m.a,to:{pathname:"/quizStats",state:{responses:Mt}}},r.a.createElement(Ye.a,null),"View Stats")),0===Mt.length?r.a.createElement("p",{style:{textAlign:"center",margin:"0",paddingTop:"3%",paddingBottom:"3%"}},"No responses yet!"):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"search-bar"},r.a.createElement(A.a,{placeholder:"Search by name or score",type:"text",onChange:function(e){$t(e.target.value);var t=Mt.filter((function(t){return-1!==t.userId.name.toLowerCase().search(e.target.value.trim().toLowerCase())||String(t.marks)===e.target.value.trim().toLowerCase()})),a=sa(aa,t);Vt(a)},className:"search-input",value:Xt}),r.a.createElement("div",{style:{marginLeft:"3%"}},r.a.createElement(Re.a,{id:"sort-by"},"Sort by"),r.a.createElement(ze.a,{labelId:"sort-by",id:"sort-select",value:aa,onChange:function(e){na(e.target.value);var t=sa(e.target.value,Gt);Vt(t)}},r.a.createElement(qe.a,{value:-1},r.a.createElement("em",null,"None")),r.a.createElement(qe.a,{value:"recent"},"Recent"),r.a.createElement(qe.a,{value:"score"},"Score"),r.a.createElement(qe.a,{value:"name"},"Name")))),r.a.createElement(ue.a,{"aria-label":"responses list"},Gt.map((function(e){return r.a.createElement(me.a,{button:!0,key:e._id,component:h.b,to:{pathname:"/studentResponse",state:{response:e}}},r.a.createElement(pe.a,{primary:e.userId.name,secondary:"Scored: ".concat(e.marks)}))})))))),r.a.createElement(p.a,{open:ee,onClose:ca,"aria-labelledby":"add-question-modal",PaperProps:{style:{backgroundColor:"white",color:"#333",minWidth:"50%"}},style:{width:"100%"}},r.a.createElement("div",{className:"add-ques-heading"},r.a.createElement(u.a,{variant:"h6",style:{textAlign:"center",margin:"2% 5%"}},"New Question"," "),Ot?null:r.a.createElement(T.a,{onClick:function(e){J(e.currentTarget)}},r.a.createElement(je.a,{className:"add-info-icon"})),r.a.createElement(Ue.a,{id:"file-upload-popover",open:Z,anchorEl:V,onClose:function(){J(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},disableRestoreFocus:!0,useLayerForClickAway:!1,PaperProps:{style:{maxWidth:"400px"}}},r.a.createElement("p",{className:"popover-text"},"You can upload a ",r.a.createElement("strong",null,".csv")," file with questions. The format should be: the"," ",r.a.createElement("strong",null,"first column should contain the question text.")," ","The next 4 columns must contain the"," ",r.a.createElement("strong",null,"four options.")," And the sixth column should contain"," ",r.a.createElement("strong",null,"the correct answer (it should match one of the four options)"),". ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("strong",null,"NOTE: THE FILE SHOULD EXACTLY MATCH THE GIVEN FORMAT.")," ","You will be able to see and edit all the question though."))),Ot?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"dropzone"},r.a.createElement(Ge.a,{onDrop:function(e){return function(e){var a=new FileReader,n=[];a.onabort=function(){F(!0)},a.onerror=function(){F(!0)},a.onload=function(){Je.a.parse(a.result,(function(e,a){void 0!==a?(a.map((function(e){if(""===e[0].trim())return null;var a={quizId:t,description:e[0],options:[{text:e[1]},{text:e[2]},{text:e[3]},{text:e[4]}],correctAnswer:e[5]};n.push(a)})),oa(n)):F(!0)}))},a.readAsBinaryString(e[0])}(e)}},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("section",null,r.a.createElement("div",t(),r.a.createElement("input",a()),r.a.createElement(Ke.a,{className:"drop-icon"}),r.a.createElement("p",{style:{color:"rgb(110, 110, 110)"}},"Drag 'n' drop or click to select files")))}))),r.a.createElement("p",{className:"manual-head"},r.a.createElement("span",null,"Or manually add the question"))),r.a.createElement("div",{className:"new-question-form"},r.a.createElement(D,{error:ie,helperText:ie?"This cannot be empty":null,className:"new-ques-input",variant:"outlined",label:"Question Text",value:ce,onChange:function(e){le(e.target.value)}}),r.a.createElement("hr",{style:{width:"100%",marginBottom:"3%"}}),r.a.createElement(v.a,{container:!0,spacing:1},r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(D,{error:Oe,helperText:Oe?"This cannot be empty":null,className:"new-ques-input",variant:"outlined",label:"Option 1",value:fe,onChange:function(e){Ee(e.target.value)}})),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(D,{error:Te,helperText:Te?"This cannot be empty":null,className:"new-ques-input",variant:"outlined",label:"Option 2",value:xe,onChange:function(e){ke(e.target.value)}}))),r.a.createElement(v.a,{container:!0,spacing:1},r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(D,{error:et,helperText:et?"This cannot be empty":null,className:"new-ques-input",variant:"outlined",label:"Option 3",value:Ve,onChange:function(e){Ze(e.target.value)}})),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(D,{error:st,helperText:st?"This cannot be empty":null,className:"new-ques-input",variant:"outlined",label:"Option 4",value:rt,onChange:function(e){ct(e.target.value)}}))),r.a.createElement("hr",{style:{width:"100%",marginBottom:"3%"}}),r.a.createElement(Re.a,{id:"correct-option"},"Correct Option"),r.a.createElement(ze.a,{error:ft,className:"correct-answer-select",style:{width:"50%"},labelId:"correct-option",value:pt,onChange:function(e){dt(e.target.value)}},r.a.createElement(qe.a,{value:-1},"None"),0!==fe.trim().length?r.a.createElement(qe.a,{value:fe},fe):null,0!==xe.trim().length?r.a.createElement(qe.a,{value:xe},xe):null,0!==Ve.trim().length?r.a.createElement(qe.a,{value:Ve},Ve):null,0!==rt.trim().length?r.a.createElement(qe.a,{value:rt},rt):null),Ot?r.a.createElement(m.a,{className:"add-question-submit",onClick:ba},"Update Question"):r.a.createElement(m.a,{className:"add-question-submit",onClick:fa},"Add Question"))),r.a.createElement(p.a,{open:qt,onClose:function(){return wt(!1)},"aria-labelledby":"delete-quiz-modal",PaperProps:{style:{backgroundColor:"white",color:"black",minWidth:"10%"}}},r.a.createElement(d.a,null,"Are you sure you want to delete this quiz?"),r.a.createElement("div",{className:"btn-div"},r.a.createElement(m.a,{className:"logout-btn m-right bg-red-btn",onClick:da},"Yes"),r.a.createElement(m.a,{className:"cancel-btn m-left",onClick:function(){return wt(!1)}},"No"))),r.a.createElement(p.a,{open:It,onClose:ma,"aria-labelledby":"delete-quiz-modal",PaperProps:{style:{backgroundColor:"white",color:"black",minWidth:"10%"}}},r.a.createElement(d.a,null,"Are you sure you want to delete this question?"),r.a.createElement("div",{className:"btn-div"},r.a.createElement(m.a,{className:"logout-btn m-right bg-red-btn",onClick:pa},"Yes"),r.a.createElement(m.a,{className:"cancel-btn m-left",onClick:ma},"No"))),r.a.createElement(p.a,{open:Qt,onClose:function(){return _t(!1)},"aria-labelledby":"restart-quiz-modal",PaperProps:{style:{backgroundColor:"white",color:"black",minWidth:"10%"}}},r.a.createElement(d.a,null,"Are you sure you want to restart this quiz?"),r.a.createElement("div",{className:"btn-div"},r.a.createElement(m.a,{className:"logout-btn m-right bg-green-btn",onClick:ia},"Yes"),r.a.createElement(m.a,{className:"cancel-btn m-left bg-red-btn",onClick:function(){return _t(!1)}},"No"))),r.a.createElement(p.a,{open:Ut,onClose:function(){return Ft(!1)},"aria-labelledby":"restart-quiz-modal",PaperProps:{style:{backgroundColor:"white",color:"black",minWidth:"10%"}}},r.a.createElement(d.a,null,"Are you sure you want to close this quiz?"),r.a.createElement("div",{className:"btn-div"},r.a.createElement(m.a,{className:"logout-btn m-right bg-green-btn",onClick:ua},"Yes"),r.a.createElement(m.a,{className:"cancel-btn m-left bg-red-btn",onClick:function(){return Ft(!1)}},"No"))),r.a.createElement(ne.a,{open:R,autoHideDuration:3e3,onClose:function(){return F(!1)},anchorOrigin:{vertical:"bottom",horizontal:"left"}},r.a.createElement(I.a,{variant:"filled",severity:"error",onClose:function(){return F(!1)}},"There was some problem with the file. Try again...")),r.a.createElement(ne.a,{open:M,autoHideDuration:3e3,onClose:function(){return B(!1)},anchorOrigin:{vertical:"bottom",horizontal:"left"}},r.a.createElement(I.a,{variant:"filled",severity:"error",onClose:function(){return B(!1)}},"There was some problem with the server. Try again...")))};var Xe=function(e){var t=Object(n.useState)(e.match.params.id),a=Object(o.a)(t,2),c=a[0],l=(a[1],Object(n.useState)("")),s=Object(o.a)(l,2),i=s[0],p=s[1],d=Object(n.useState)(new Date),h=Object(o.a)(d,2),f=h[0],E=h[1],O=Object(n.useState)(5),j=Object(o.a)(O,2),N=j[0],S=j[1],k=Object(n.useState)("private"),z=Object(o.a)(k,2),C=z[0],T=z[1],I=Object(n.useState)(!0),P=Object(o.a)(I,2),A=P[0],Q=P[1],_=Object(n.useState)(!1),L=Object(o.a)(_,2),R=L[0],F=L[1],W=Object(U.b)().executeRecaptcha,H=function(e){E(e)},M=function(){var e=Object(w.a)(q.a.mark((function e(){var t,a,n,r,l;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),t=localStorage.getItem("authToken"),a="http://psmcq.online/quiz/updateDetails/".concat(c),e.next=5,W("update_quiz_details");case 5:return n=e.sent,r=[{propName:"quizName",value:i},{propName:"scheduledFor",value:f.getTime()},{propName:"quizDuration",value:N}],l={updateOps:r,captcha:n},e.prev=8,e.next=11,y.a.patch(a,l,{headers:{"auth-token":t}}).then((function(e){Q(!1),F(!0)}));case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(8),console.log(e.t0),Q(!1);case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(w.a)(q.a.mark((function e(){var t,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),t=localStorage.getItem("authToken"),a="http://psmcq.online/quiz/".concat(c),e.prev=3,e.next=6,y.a.get(a,{headers:{"auth-token":t}}).then((function(e){var t=e.data.result;p(t.quizName),E(new Date(Number(t.scheduledFor))),S(t.quizDuration),T(t.quizType),Q(!1)}));case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0),Q(!1);case 12:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){B()}),[]),Object(n.useEffect)((function(){if(null===localStorage.getItem("authToken"))return Q(!1),void F(!0)}),[]),A?r.a.createElement(x,null):R?r.a.createElement(b.a,{to:"/editQuiz/".concat(c)}):r.a.createElement(g.a,{className:"create-quiz-page"},r.a.createElement("div",{className:"create-form"},r.a.createElement(u.a,{variant:"h4",className:"create-head"},"Quiz Details"),r.a.createElement("div",{className:"create-form-inputs"},r.a.createElement(D,{variant:"outlined",label:"Quiz Name",value:i,onChange:function(e){p(e.target.value)},name:"Quiz Name",className:"form-input"}),r.a.createElement(we.a,{utils:Ie.a},r.a.createElement(v.a,{className:"date-time-select",container:!0,spacing:3},r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(Ce.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",label:"Select Quiz Date",value:f,onChange:H})),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(Te.a,{margin:"normal",label:"Select Quiz Start Time",value:f,onChange:H})))),r.a.createElement("p",{style:{marginTop:"5%",marginBottom:"5%"}},"Quiz Time (in minutes):"),r.a.createElement(ke.a,{defaultValue:5,"aria-labelledby":"quiz time slider",step:5,min:5,max:60,valueLabelDisplay:"on",marks:!0,className:"time-slider",value:N,onChange:function(e,t){S(t)}}),r.a.createElement("p",{style:{color:"#777"}},"Select quiz type: "),r.a.createElement(ie.a,{title:"Cannot change quiz type"},r.a.createElement(ze.a,{disabled:!0,value:C,onChange:function(e){T(e.target.value)},className:"type-select"},r.a.createElement(qe.a,{value:"public"},"Public"),r.a.createElement(qe.a,{value:"private"},"Private"))),r.a.createElement(m.a,{className:"login-btn create-btn",onClick:M},"Update Quiz"))))};var $e=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(!1),i=Object(o.a)(s,2),p=i[0],d=i[1],h=Object(n.useState)(""),f=Object(o.a)(h,2),E=f[0],v=f[1],O=Object(n.useState)(!1),j=Object(o.a)(O,2),N=j[0],S=j[1],k=Object(n.useState)(!0),z=Object(o.a)(k,2),C=z[0],T=z[1],P=Object(n.useState)(e.match.params.type),A=Object(o.a)(P,2),Q=A[0],_=(A[1],Object(n.useState)(!1)),L=Object(o.a)(_,2),R=L[0],F=L[1],W=Object(n.useState)(!1),H=Object(o.a)(W,2),M=H[0],B=H[1],Y=Object(U.b)().executeRecaptcha,K=function(e){"Enter"===e.key&&G()},G=function(){var e=Object(w.a)(q.a.mark((function e(){var t,a,n,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("authToken"),a="http://psmcq.online/".concat(Q,"/updateProfile"),e.next=4,Y("update_profile");case 4:if(n=e.sent,0!==c.trim().length){e.next=10;break}return d(!0),e.abrupt("return");case 10:d(!1);case 11:if(10===E.trim().length){e.next=16;break}return S(!0),e.abrupt("return");case 16:S(!1);case 17:return T(!0),r={updateOps:[{propName:"name",value:c},{propName:"mobileNumber",value:E}],captcha:n},e.prev=20,e.next=23,y.a.patch(a,r,{headers:{"auth-token":t}}).then((function(e){localStorage.setItem("name",c),F(!0),window.location.reload(!0)}));case 23:e.next=30;break;case 25:e.prev=25,e.t0=e.catch(20),console.log(e.t0),B(!0),T(!1);case 30:case"end":return e.stop()}}),e,null,[[20,25]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(w.a)(q.a.mark((function e(){var t,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("authToken"),a="http://psmcq.online/".concat(Q),e.prev=2,e.next=5,y.a.get(a,{headers:{"auth-token":t}}).then((function(e){l(e.data.result1.name),void 0!==e.data.result1.mobileNumber?v(e.data.result1.mobileNumber.toString()):v(""),T(!1)}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0),F(!0);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){V()}),[]),Object(n.useEffect)((function(){if(null===localStorage.getItem("authToken"))return T(!1),void F(!0)}),[]),R?r.a.createElement(b.a,{to:"/dashboard"}):C?r.a.createElement(x,null):r.a.createElement(g.a,{className:"login-page"},r.a.createElement("div",{className:"login-form"},r.a.createElement(u.a,{variant:"h3",color:"primary",className:"login-head"},"Update Profile"),r.a.createElement("br",null),!0===M?r.a.createElement(I.a,{severity:"error"},"There was some error! Please try again..."):null,r.a.createElement("form",{className:"form"},r.a.createElement(D,{error:p,helperText:p?"Name cannot be empty":null,id:"name",label:"Name",type:"text",className:"form-input",variant:"outlined",value:c,onChange:function(e){l(e.target.value)},onKeyPress:K}),r.a.createElement("br",null),r.a.createElement(D,{error:N,helperText:N?"Invalid Phone Number":null,id:"phone-number",type:"text",label:"Phone Number",className:"form-input",variant:"outlined",value:E,onChange:function(e){v(e.target.value)},onKeyPress:K})),r.a.createElement(m.a,{className:"login-btn",onClick:G},"Update")))};var et=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(!1),i=Object(o.a)(s,2),p=i[0],d=i[1],h=Object(n.useState)(""),f=Object(o.a)(h,2),E=f[0],v=f[1],O=Object(n.useState)(!1),j=Object(o.a)(O,2),N=j[0],S=j[1],k=Object(n.useState)(""),z=Object(o.a)(k,2),C=z[0],T=z[1],P=Object(n.useState)(!1),A=Object(o.a)(P,2),Q=A[0],_=A[1],L=Object(n.useState)(""),R=Object(o.a)(L,2),F=R[0],W=R[1],H=Object(n.useState)(!1),M=Object(o.a)(H,2),B=M[0],Y=M[1],K=Object(n.useState)(e.match.params.type),G=Object(o.a)(K,2),V=G[0],J=(G[1],Object(n.useState)(!1)),Z=Object(o.a)(J,2),X=Z[0],$=Z[1],ee=Object(n.useState)(!1),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)("There was some problem! Please try again..."),ce=Object(o.a)(re,2),le=ce[0],oe=ce[1],se=Object(U.b)().executeRecaptcha,ie=function(){var e=!1;return 0===c.trim().length?(d(!0),e=!0):d(!1),0===E.trim().length?(S(!0),e=!0):S(!1),0===C.trim().length?(_(!0),W("This cannot be empty"),e=!0):C!==E?(W("Does not match password"),_(!0),e=!0):_(!1),!e},ue=function(){var e=Object(w.a)(q.a.mark((function e(){var t,a,n,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("authToken"),a="http://psmcq.online/".concat(V,"/changePassword"),null!==t){e.next=5;break}return $(!0),e.abrupt("return");case 5:if(ie()){e.next=7;break}return e.abrupt("return");case 7:return Y(!0),e.next=10,se("update_password");case 10:return n=e.sent,r={password:c,newPassword:E,captcha:n},e.prev=12,e.next=15,y.a.patch(a,r,{headers:{"auth-token":t}}).then((function(e){$(!0)}));case 15:e.next=23;break;case 17:e.prev=17,e.t0=e.catch(12),console.log(e.t0),401===e.t0.response.status?oe("Old password is wrong!"):oe("There was some problem! Please try again..."),ne(!0),Y(!1);case 23:case"end":return e.stop()}}),e,null,[[12,17]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){null!==localStorage.getItem("authToken")||$(!0)}),[]),X?r.a.createElement(b.a,{to:"/dashboard"}):B?r.a.createElement(x,null):r.a.createElement(g.a,{className:"login-page"},r.a.createElement("div",{className:"login-form"},r.a.createElement(u.a,{variant:"h3",color:"primary",className:"login-head"},"Update Profile"),r.a.createElement("br",null),!0===ae?r.a.createElement(I.a,{severity:"error"},le):null,r.a.createElement("form",{className:"form"},r.a.createElement(D,{error:p,helperText:p?"This cannot be empty":null,id:"old-pass",label:"Old Password",type:"password",className:"form-input",variant:"outlined",value:c,onChange:function(e){l(e.target.value)}}),r.a.createElement(D,{error:N,helperText:N?"This cannot be empty":null,id:"new-pass",label:"New Password",type:"password",className:"form-input",variant:"outlined",value:E,onChange:function(e){v(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(D,{error:Q,helperText:Q?F:null,id:"confirm-pass",type:"password",label:"Confirm Password",className:"form-input",variant:"outlined",value:C,onChange:function(e){T(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&ue()}})),r.a.createElement(m.a,{className:"login-btn",onClick:ue},"Update")))};a(302),a(190);var tt=function(e){var t=Object(n.useState)(!0),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)([]),i=Object(o.a)(s,2),u=i[0],m=i[1],p=function(){var e=Object(w.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("authToken"),"http://psmcq.online/owner/allQuizzes",e.prev=2,e.next=5,y.a.get("http://psmcq.online/owner/allQuizzes",{headers:{"auth-token":t}}).then((function(e){m(e.data.result)}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:l(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){p()}),[]),c?r.a.createElement(fe,null):r.a.createElement("div",{className:"owner-quizzes"},0===u.length?r.a.createElement("p",null,"No quizzes available now!"):r.a.createElement(ue.a,{"aria-label":"quiz display",className:"owner-quiz-list"},u.map((function(e){return r.a.createElement(me.a,{button:!0,className:"owner-quiz-item",component:h.b,to:"/ownerQuizDetails/".concat(e._id),key:e._id},r.a.createElement(pe.a,{primary:e.quizName,secondary:"By: ".concat(e.adminId.name)}),r.a.createElement(de.a,null,r.a.createElement(T.a,{edge:"end","aria-label":"details",component:h.b,to:"/ownerQuizDetails/".concat(e._id)},r.a.createElement(he.a,null))))}))))};var at=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],l=function(){var e=Object(w.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("authToken"),"http://psmcq.online/owner/allUsers",e.prev=2,e.next=5,y.a.get("http://psmcq.online/owner/allUsers",{headers:{"auth-token":t}}).then((function(e){c(e.data.result)}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){l()}),[]),r.a.createElement("div",{className:"owner-quizzes"},r.a.createElement(ue.a,{"aria-label":"users-display",className:"owner-quiz-list"},a.map((function(e){return r.a.createElement(me.a,{button:!0,key:e._id},r.a.createElement(pe.a,{primary:e.email,secondary:e.name}),r.a.createElement(de.a,null,r.a.createElement(T.a,{edge:"end","aria-label":"details"},r.a.createElement(he.a,null))))}))))};var nt=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],l=function(){var e=Object(w.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("authToken"),"http://psmcq.online/owner/allAdmins",e.prev=2,e.next=5,y.a.get("http://psmcq.online/owner/allAdmins",{headers:{"auth-token":t}}).then((function(e){c(e.data.result)}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){l()}),[]),r.a.createElement("div",{className:"owner-quizzes"},r.a.createElement(ue.a,{"aria-label":"users-display",className:"owner-quiz-list"},a.map((function(e){return r.a.createElement(me.a,{button:!0,key:e._id},r.a.createElement(pe.a,{primary:e.email,secondary:e.name}),r.a.createElement(de.a,null,r.a.createElement(T.a,{edge:"end","aria-label":"details"},r.a.createElement(he.a,null))))}))))};var rt=function(){var e=Object(n.useState)(0),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),i=Object(o.a)(l,2),m=i[0],p=i[1],d=Object(n.useState)(!0),h=Object(o.a)(d,2),E=h[0],v=h[1],O=Object(n.useState)(!1),j=Object(o.a)(O,2),N=j[0],S=(j[1],Object(n.useContext)(f).isLoggedIn,function(){var e=Object(w.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("authToken"),"http://psmcq.online/general/checkUser",e.prev=2,e.next=5,y.a.get("http://psmcq.online/general/checkUser",{headers:{"auth-token":t}}).then((function(e){"Owner"===e.data.result.userType?v(!1):p(!0)}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}());return Object(n.useEffect)((function(){S()}),[]),Object(n.useEffect)((function(){}),[N]),m?r.a.createElement(b.a,{to:"/"}):E?r.a.createElement(x,null):r.a.createElement(g.a,{className:"dashboard-page owner-page"},r.a.createElement(u.a,{variant:"h4",className:"dash-head"},"Owner Dashboard"),r.a.createElement("div",{className:"dash-section"},r.a.createElement(s.a,{position:"static",color:"default",className:"bg-white tab-bar owner-tab"},r.a.createElement(te.a,{value:a,onChange:function(e,t){c(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs owner-dashboard"},r.a.createElement(ae.a,{label:"All Quizzes"}),r.a.createElement(ae.a,{label:"All User"}),r.a.createElement(ae.a,{label:"All Organizer"}))),r.a.createElement(ct,{value:a,index:0},r.a.createElement(tt,null)),r.a.createElement(ct,{value:a,index:1},r.a.createElement(at,null)),r.a.createElement(ct,{value:a,index:2},r.a.createElement(nt,null))))};function ct(e){return r.a.createElement("div",{role:"tabpanel",hidden:e.value!==e.index,id:"simple-tabpanel-".concat(e.index),"aria-labelledby":"simple-tab-".concat(e.index)},r.a.createElement("div",null,e.children))}var lt=function(e){var t=e.match.params.id,a=Object(n.useState)(!0),c=Object(o.a)(a,2),l=c[0],s=c[1],i=Object(n.useState)(!1),h=Object(o.a)(i,2),f=h[0],E=h[1],v=Object(n.useState)(!1),O=Object(o.a)(v,2),j=O[0],N=O[1],S=Object(n.useState)({}),k=Object(o.a)(S,2),z=k[0],C=k[1],T=Object(n.useState)([]),P=Object(o.a)(T,2),A=P[0],D=P[1],Q=Object(n.useState)([]),_=Object(o.a)(Q,2),L=(_[0],_[1],Object(n.useState)(!1)),R=Object(o.a)(L,2),U=R[0],F=R[1],W=Object(n.useState)(!1),H=Object(o.a)(W,2),M=H[0],B=H[1],Y=function(){var e=Object(w.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("authToken"),"http://psmcq.online/general/checkUser",e.prev=2,e.next=5,y.a.get("http://psmcq.online/general/checkUser",{headers:{"auth-token":t}}).then((function(e){"Owner"===e.data.result.userType||N(!0)}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(w.a)(q.a.mark((function e(){var a,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),a=localStorage.getItem("authToken"),n="http://psmcq.online/owner/quiz/".concat(t),e.prev=3,e.next=6,y.a.delete(n,{headers:{"auth-token":a}}).then((function(e){E(!0)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(w.a)(q.a.mark((function e(){var a,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),a=localStorage.getItem("authToken"),n="http://psmcq.online/quiz/".concat(t),e.prev=3,e.next=6,y.a.get(n,{headers:{"auth-token":a}}).then((function(e){C(e.data.result)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0);case 11:return n="http://psmcq.online/question/all/".concat(t),e.prev=12,e.next=15,y.a.get(n,{headers:{"auth-token":a}}).then((function(e){D(e.data.result),s(!1)}));case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(12),console.log(e.t1);case 20:case"end":return e.stop()}}),e,null,[[3,8],[12,17]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){if(null===localStorage.getItem("authToken"))return s(!1),void E(!0);Y(),G()}),[]),l?r.a.createElement(x,null):f?r.a.createElement(b.a,{to:"/coronilOP"}):j?r.a.createElement(b.a,{to:"/dashboard"}):r.a.createElement(g.a,{className:"edit-quiz-page"},r.a.createElement(u.a,{variant:"h3",className:"dash-head p-top edit-quiz-head"},"Quiz Details"),r.a.createElement("div",{className:"edit-btn-bar"},r.a.createElement(m.a,{className:"edit-details-btn delete-btn",onClick:function(){F(!0)}},r.a.createElement(We.a,{className:"edit-icon"}),"Delete Quiz")),r.a.createElement("div",{className:"quiz-details-sec"},r.a.createElement(u.a,{variant:"h6",className:"quiz-detail-param"},"Name:"," ",r.a.createElement("span",{className:"quiz-detail-text"},z.quizName)),r.a.createElement(u.a,{variant:"h6",className:"quiz-detail-param"},"Date:"," ",r.a.createElement("span",{className:"quiz-detail-text"},new Date(Number(z.scheduledFor)).toDateString())),r.a.createElement(u.a,{variant:"h6",className:"quiz-detail-param"},"Time:"," ",r.a.createElement("span",{className:"quiz-detail-text"},new Date(Number(z.scheduledFor)).toLocaleTimeString())),r.a.createElement(u.a,{variant:"h6",className:"quiz-detail-param"},"Duration:"," ",r.a.createElement("span",{className:"quiz-detail-text"},z.quizDuration," minutes")),r.a.createElement(u.a,{variant:"h6",className:"quiz-detail-param"},"Type:"," ",r.a.createElement("span",{className:"quiz-detail-text"},z.quizType)),"private"===z.quizType?r.a.createElement(u.a,{variant:"h6",className:"quiz-detail-param"},"Quiz Code:"," ",r.a.createElement("span",{className:"quiz-detail-text"},z.quizCode)):null),r.a.createElement("div",{className:"quiz-questions-sec"},r.a.createElement(u.a,{variant:"h4",className:"quiz-questions-head"},"Questions"),r.a.createElement("div",{className:"quiz-questions-display"},0===A.length?r.a.createElement("p",{style:{textAlign:"center"}},"No questions added yet!"):r.a.createElement("div",{className:"questions-list-display"},A.map((function(e){return r.a.createElement(De.a,{elevation:3,className:"expansion",key:e._id},r.a.createElement(Qe.a,{className:"question-summary",expandIcon:r.a.createElement(Me.a,null),"aria-controls":"question-content","aria-label":"Expand"},r.a.createElement(u.a,{className:"question-label"},e.description)),r.a.createElement(_e.a,null,r.a.createElement(ue.a,{component:"nav",className:"options-display"},e.options.map((function(t){return r.a.createElement(me.a,{button:!0,key:t._id},r.a.createElement(Le.a,null,r.a.createElement(Be.a,{style:{color:e.correctAnswer===t.text?"green":"black"}})),r.a.createElement(pe.a,{style:{color:e.correctAnswer===t.text?"green":"black"},primary:t.text}))})))))}))))),r.a.createElement(p.a,{open:U,onClose:function(){return F(!1)},"aria-labelledby":"delete-quiz-modal",PaperProps:{style:{backgroundColor:"white",color:"black",minWidth:"10%"}}},r.a.createElement(d.a,null,"Are you sure you want to delete this quiz?"),r.a.createElement("div",{className:"btn-div"},r.a.createElement(m.a,{className:"logout-btn m-right bg-red-btn",onClick:K},"Yes"),r.a.createElement(m.a,{className:"cancel-btn m-left",onClick:function(){return F(!1)}},"No"))),r.a.createElement(ne.a,{open:M,autoHideDuration:5e3,onClose:function(){return B(!1)}},r.a.createElement(I.a,{variant:"filled",severity:"info",onClose:function(){return B(!1)}},"Processing... Please Wait!")))},ot=(a(136),a(477)),st=a(478);var it=function(e){var t=Object(n.useState)(e.match.params.id),a=Object(o.a)(t,2),c=a[0],l=(a[1],Object(n.useState)(!0)),s=Object(o.a)(l,2),i=s[0],m=s[1],p=Object(n.useState)(""),d=Object(o.a)(p,2),b=d[0],h=d[1],f=Object(n.useState)(null),E=Object(o.a)(f,2),v=E[0],O=E[1],j=Object(n.useState)([]),N=Object(o.a)(j,2),S=N[0],k=N[1],z=function(){var e=Object(w.a)(q.a.mark((function e(){var t,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("authToken"),a="http://psmcq.online/quiz/".concat(c),e.prev=2,e.next=5,y.a.get(a,{headers:{"auth-token":t}}).then((function(e){h(e.data.result.quizName)}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(w.a)(q.a.mark((function e(){var t,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("authToken"),a="http://psmcq.online/user/studentQuizResult/".concat(c),e.prev=2,e.next=5,y.a.get(a,{headers:{"auth-token":t}}).then((function(e){O(e.data.result.marks),k(e.data.result.responses),m(!1)}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useState)((function(){z(),C()}),[]),i?r.a.createElement(x,null):r.a.createElement(g.a,{className:"result-page"},r.a.createElement("div",{className:"result-head"},r.a.createElement(u.a,{variant:"h4",className:"result-title"},"Results")),r.a.createElement("div",{className:"result-quiz-info"},r.a.createElement(u.a,{variant:"h5"},r.a.createElement("span",{className:"profile-param"},"Quiz:")," ",r.a.createElement("strong",null,b)),r.a.createElement(u.a,{variant:"h5"},r.a.createElement("span",{className:"profile-param"},"Scored:")," ",r.a.createElement("strong",null,v)," out of ",r.a.createElement("strong",null,S.length))),r.a.createElement("div",{className:"result-responses"},r.a.createElement("div",{className:"result-response-title"},r.a.createElement(u.a,{variant:"h5"},"Responses")),r.a.createElement("div",{className:"result-responses-list"},S.map((function(e){return r.a.createElement(De.a,{elevation:3,className:"expansion",key:e.quesId},r.a.createElement(Qe.a,{className:"question-response",expandIcon:r.a.createElement(Me.a,null),"aria-controls":"question-content","aria-label":"Expand"},r.a.createElement(u.a,{className:"question-label"},e.description," ",function(e){return e.selected===e.correctAnswer?r.a.createElement(ge.a,{style:{color:"green",marginLeft:"3px"}}):null===e.selected?r.a.createElement(ot.a,{style:{color:"goldenrod",marginLeft:"3px"}}):r.a.createElement(st.a,{style:{color:"red",marginLeft:"3px"}})}(e))),r.a.createElement(_e.a,null,r.a.createElement(ue.a,{component:"nav",className:"options-display"},e.options.map((function(t){return r.a.createElement(me.a,{button:!0,key:t._id},r.a.createElement(Le.a,null,r.a.createElement(Be.a,{style:{color:e.correctAnswer===t.text?"green":e.selected===t.text?"red":"black"}})),r.a.createElement(pe.a,{style:{color:e.correctAnswer===t.text?"green":e.selected===t.text?"red":"black"},primary:t.text}))})))))})))))};var ut=function(e){var t=Object(n.useState)(!0),a=Object(o.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(""),i=Object(o.a)(s,2),m=i[0],p=i[1],d=Object(n.useState)(null),h=Object(o.a)(d,2),f=h[0],E=h[1],v=Object(n.useState)([]),O=Object(o.a)(v,2),j=O[0],N=O[1],y=Object(n.useState)(!1),S=Object(o.a)(y,2),k=S[0],z=S[1],q=null;return Object(n.useState)((function(){if(void 0===e.location.state)return l(!1),void z(!0);q=e.location.state.response,p(q.userId.name),E(q.marks),N(q.responses),l(!1)}),[]),c?r.a.createElement(x,null):k?r.a.createElement(b.a,{to:"/dashboard"}):r.a.createElement(g.a,{className:"result-page"},r.a.createElement("div",{className:"result-head"},r.a.createElement(u.a,{variant:"h4",className:"result-title"},"Results")),r.a.createElement("div",{className:"result-quiz-info"},r.a.createElement(u.a,{variant:"h5"},r.a.createElement("span",{className:"profile-param"},"Quiz:")," ",r.a.createElement("strong",null,m)),r.a.createElement(u.a,{variant:"h5"},r.a.createElement("span",{className:"profile-param"},"Scored:")," ",r.a.createElement("strong",null,f)," out of ",r.a.createElement("strong",null,j.length))),r.a.createElement("div",{className:"result-responses"},r.a.createElement("div",{className:"result-response-title"},r.a.createElement(u.a,{variant:"h5"},"Responses")),r.a.createElement("div",{className:"result-responses-list"},j.map((function(e){return r.a.createElement(De.a,{elevation:3,className:"expansion",key:e.quesId},r.a.createElement(Qe.a,{className:"question-response",expandIcon:r.a.createElement(Me.a,null),"aria-controls":"question-content","aria-label":"Expand"},r.a.createElement(u.a,{className:"question-label"},e.description," ",function(e){return e.selected===e.correctAnswer?r.a.createElement(ge.a,{style:{color:"green",marginLeft:"3px"}}):null===e.selected?r.a.createElement(ot.a,{style:{color:"goldenrod",marginLeft:"3px"}}):r.a.createElement(st.a,{style:{color:"red",marginLeft:"3px"}})}(e))),r.a.createElement(_e.a,null,r.a.createElement(ue.a,{component:"nav",className:"options-display"},e.options.map((function(t){return r.a.createElement(me.a,{button:!0,key:t._id},r.a.createElement(Le.a,null,r.a.createElement(Be.a,{style:{color:e.correctAnswer===t.text?"green":e.selected===t.text?"red":"black"}})),r.a.createElement(pe.a,{style:{color:e.correctAnswer===t.text?"green":e.selected===t.text?"red":"black"},primary:t.text}))})))))})))))};var mt=function(e){var t=Object(n.useState)(e.match.params.type),a=Object(o.a)(t,1)[0],c=Object(n.useState)(""),l=Object(o.a)(c,2),s=l[0],i=l[1],p=Object(n.useState)(""),d=Object(o.a)(p,2),h=d[0],f=d[1],E=Object(n.useState)(""),v=Object(o.a)(E,2),O=v[0],j=v[1],N=Object(n.useState)(!1),S=Object(o.a)(N,2),k=S[0],z=S[1],C=Object(n.useState)(!1),T=Object(o.a)(C,2),P=T[0],A=T[1],Q=Object(n.useState)(!1),_=Object(o.a)(Q,2),L=_[0],R=_[1],F=Object(n.useState)(!1),W=Object(o.a)(F,2),H=W[0],M=W[1],B=Object(n.useState)(!1),Y=Object(o.a)(B,2),K=Y[0],G=(Y[1],Object(U.b)().executeRecaptcha),V=function(){var t=Object(w.a)(q.a.mark((function t(){var n,r;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null,n="organizer"===a?"http://psmcq.online/admin/resendverificationemail":"http://psmcq.online/user/resendverificationemail",r={email:e.location.state.email},t.prev=3,t.next=6,y.a.post(n,r).then((function(e){console.log("Email successfully sent")}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(){return t.apply(this,arguments)}}(),J=function(){var e=Object(w.a)(q.a.mark((function e(){var t,n,r,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z(!0),t=!1,0===h.length&&(j("Enter the verification code"),t=!0),t||0!==O.length){e.next=21;break}return A(!0),n=null,"organizer"===a?n="http://psmcq.online/admin/verifyEmail":"user"===a&&(n="http://psmcq.online/user/verifyEmail"),e.next=9,G("email_verify");case 9:return r=e.sent,c={verificationKey:h,captcha:r},e.prev=11,e.next=14,y.a.patch(n,c).then((function(e){A(!1),R(!0)}));case 14:e.next=21;break;case 16:e.prev=16,e.t0=e.catch(11),A(!1),500===e.t0.response.status&&j(!0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){0===h.length?j("This cannot be empty!"):j("")}),[h]),Object(n.useEffect)((function(){("user"===e.match.params.type||"organizer"===e.match.params.type)&&void 0!==e.location.state?(i(e.location.state.email),e.location.state.sendCode&&V()):M(!0)}),[]),P?r.a.createElement(x,null):L?r.a.createElement(b.a,{to:"/login/".concat(a)}):H?r.a.createElement(b.a,{to:"/"}):r.a.createElement(g.a,{className:"login-page"},r.a.createElement("div",{className:"login-form"},r.a.createElement(u.a,{variant:"h3",color:"primary",className:"login-head forgot-head"},"Verify E-mail"),r.a.createElement("br",null),K?null:r.a.createElement(I.a,{severity:"info",color:"info"},"A verification email was sent to ",s),K?r.a.createElement(I.a,{severity:"error",color:"error"},"Verification mail could not be sent. Please try again..."):null,r.a.createElement("form",{className:"form"},r.a.createElement(D,{error:!!k&&0!==O.length,helperText:k?0===O.length?null:O:null,id:"verification-code",label:"Verification Code",type:"text",className:"form-input",variant:"outlined",value:h,onChange:function(e){f(e.target.value)}})),r.a.createElement(m.a,{className:"login-btn",onClick:J},"Verify")))},pt=a(118);var dt=function(e){var t=Object(n.useState)(!0),a=Object(o.a)(t,2),c=a[0],l=a[1],s=null,i=Object(n.useState)({labels:[],data:[],colors:[]}),m=Object(o.a)(i,2),p=m[0],d=m[1],h=Object(n.useState)({highest:-1,lowest:-1,average:-1}),f=Object(o.a)(h,2),E=f[0],O=f[1],j=Object(n.useState)({labels:[],data:[]}),N=Object(o.a)(j,2),y=N[0],S=N[1],k=Object(n.useState)(!1),z=Object(o.a)(k,2),q=z[0],w=z[1],C=function(){var e={},t={labels:[],data:[]},a=-1,n=1/0,r=0;s.map((function(c){a=Math.max(a,c.marks),n=Math.min(n,c.marks),r+=c.marks,void 0===e[c.marks]?e[c.marks]=1:e[c.marks]++;var l=(c.timeEnded-c.timeStarted)/6e4;t.labels.push(c.userId.name),t.data.push(l)})),Object.keys(e).map((function(t){var a=p;a.labels.push(t),a.data.push(e[t]),a.colors.push("rgb("+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+","+Math.floor(255*Math.random())+")"),d(a)}));var c=r/s.length,o=E;o.highest=a,o.average=c,o.lowest=n,O(o),S(t),l(!1)};return Object(n.useState)((function(){if(void 0===e.location.state)return l(!1),void w(!0);s=e.location.state.responses,console.log(s),C()}),[]),c?r.a.createElement(x,null):q?r.a.createElement(b.a,{to:"/dashboard"}):r.a.createElement(g.a,{className:"result-page"},r.a.createElement("div",{className:"result-head"},r.a.createElement(u.a,{variant:"h4",className:"result-title"},"Stats")),r.a.createElement("div",{className:"charts-container",style:{paddingBottom:"3%"}},r.a.createElement("div",{className:"pie-chart",style:{marginBottom:"3%"}},r.a.createElement(pt.c,{data:{datasets:[{data:p.data,backgroundColor:p.colors}],labels:p.labels},width:300,height:300,options:{maintainAspectRatio:!1,responsive:!0,title:{display:!0,text:"Marks Obtained",fontSize:16}}})),r.a.createElement(v.a,{container:!0,spacing:0},r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(pt.a,{width:300,height:300,data:{datasets:[{data:[E.highest,E.average,E.lowest],backgroundColor:["green","yellow","red"],barThickness:70}],labels:["Highest","Average","Lowest"]},options:{legend:{display:!1},maintainAspectRatio:!1,title:{display:!0,text:"Highest/Average/Lowest",fontSize:16},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})),r.a.createElement(v.a,{item:!0,xs:12,sm:6},r.a.createElement(pt.b,{width:300,height:300,data:{datasets:[{data:y.data,backgroundColor:"rgba(255, 0, 255, 0.3)",borderColor:"rgb(255, 0, 255)"}],labels:y.labels},options:{maintainAspectRatio:!1,title:{display:!0,text:"Time taken (in minutes)",fontSize:16},legend:{display:!1}}})))))};var bt=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),s=Object(o.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)(null),p=Object(o.a)(m,2),d=p[0],g=p[1],v=Object(n.useState)(!1),O=Object(o.a)(v,2),j={name:d,changeName:g,authToken:a,setAuthToken:c,isLoggedIn:i,setLoggedIn:u,isAdmin:O[0],setAdmin:O[1]};return r.a.createElement(f.Provider,{value:j},r.a.createElement(h.a,null,r.a.createElement(E,{loggedIn:j.isLoggedIn}),r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/",component:k}),r.a.createElement(b.b,{exact:!0,path:"/dashboard",component:xe}),r.a.createElement(b.b,{exact:!0,path:"/coronilOP",component:rt}),r.a.createElement(b.b,{exact:!0,path:"/ownerQuizDetails/:id",component:lt}),r.a.createElement(b.b,{exact:!0,path:"/results/:id",component:it}),r.a.createElement(b.b,{exact:!0,path:"/updateProfile/:type",component:$e}),r.a.createElement(b.b,{exact:!0,path:"/updatePassword/:type",component:et}),r.a.createElement(b.b,{exact:!0,path:"/createQuiz"},r.a.createElement(Ae,null)),r.a.createElement(b.b,{exact:!0,path:"/editQuiz/:id",component:Ze}),r.a.createElement(b.b,{exact:!0,path:"/quizStats",component:dt}),r.a.createElement(b.b,{exact:!0,path:"/studentResponse",component:ut}),r.a.createElement(b.b,{exact:!0,path:"/updateQuizDetails/:id",component:Xe}),r.a.createElement(b.b,{exact:!0,path:"/register/:type",component:W}),r.a.createElement(b.b,{exact:!0,path:"/verify/:type",component:mt}),r.a.createElement(b.b,{exact:!0,path:"/quiz/",component:X}),r.a.createElement(b.b,{exact:!0,path:"/login/:type",component:F}),r.a.createElement(b.b,{exact:!0,path:"/forgotPassword/:type",component:ee}),r.a.createElement(b.b,{path:"*"},r.a.createElement($,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U.a,{reCaptchaKey:"6LcffJAeAAAAAOkW3N62XrFal55byrHCkSAdVux6"},r.a.createElement(bt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[394,1,2]]]);
//# sourceMappingURL=main.d8f46aa4.chunk.js.map